一款入门学习 Linux 的方便法门：Webmin

副标题：一款入门学习 Linux 的方便法门：Webmin

英文：a-convenient-way-to-learn-linux-webmin

关键字：webmin,linux,usermin,virtualmin



快下班了，我正招呼小毛同学收拾收拾准备撤退，突然发现这小子在疯狂地薅头发。

我立马冲上去一把拉住他：“你小子敲代码敲麻啦？拢共没几根毛都给扯没了，你是怎么个病？”



小毛拉着个苦瓜脸，指着屏幕上的终端画面和我说：“哥，这 `Linux` 系统太难学了！一堆的命令我记不住，怎么执行都是错的！气死我了！”

我一听就乐了，哦，原来是这么回事啊，这也能和几根金贵的毛发较劲？

我拍拍他的肩膀，告诉他“下班不积极，脑袋有问题”：“先闪人，之后哥会教你一个学习的好方法！”

小毛同学听罢瞪着一双眼睛，将信将疑。

于是我就说，给我五分钟，我先给你介绍介绍一款入门学习 `Linux` 的方便法门，一款 `Web` 图形界面的 `Linux` 管理配置工具  `Webmin` 。



### `Webmin` 简介 

`Webmin` 是一个基于 `Web` 的 `Linux/Unix` 系统管理软件。

简单地说，就是你可以打开一个浏览器，然后输入 `Webmin` 的管理地址，在打开的页面中就可以管理你的 `Linux/Unix` 系统了。

`Webmin` 功能强大，可以管理设置很多东西，比如用户帐户、`Apache` 服务、`DNS` 、文件共享等等，几乎所有的东西都能给你管上一管。



`Webmin` 是由一个简单的 `Web` 服务器和一些 `CGI` 程序组成的系统，`Web` 服务器和所有 `CGI` 程序都是使用 `Perl 5`，并且不使用非标准的 `Perl` 模块。

它通过管理相应的系统配置文件来实现管理目的，比如它直接通过访问编辑 `/etc/passwd` 来管理用户密码等等。

因此，我们可以借助 `Webmin` 来辅助我们学习配置 `Linux` 系统。



尽管还有许多补丁和翻译语言贡献者，以及第三方模块开发者的积极参与，剩下的几乎所有的都由 `Webmin` 的作者 `Jamie Cameron` 一人在负责开发工作，在此向作者致敬！

`Webmin` 定位于类似 `BSD` 的协议许可，因此它可以被自由分发和修改并用于商业用途。

但不管如何，作为初学 `Linux` 系统的小伙伴们，多少了解一下 `Webmin` 总是有好处的。



`Webmin` 官网首页

> https://www.webmin.com/

图01



`Webmin` 从 `2006` 年发展至今，如今（2022年）刚刚释放出 `2.000` 的船新版本。

要知道在此之前，它一直都是徘徊在 `1.x` 里面。

来得早不如来得巧，正好让我们下载最新版尝试一下吧！ 



### 下载

官网首页点击 `Downloads` 或直接输入以下网址转到下载页面。

```
https://www.webmin.com/download.html
```

我们选择 `tar.gz` 安装包，当然以后如果你熟练了也可以使用其他的包。

图02



注意，`Webmin` 的安装包被托管到了 `SourceForge` ，下载可能比较慢，我在这儿放一个备用下载。



**webmin-2.000.tar.gz(42.75M)**

下载链接：https://pan.baidu.com/s/1sVenMakFYQbDJ2Kcvq-OoQ

提取码：cm5m



### 安装

由于 `Webmin` 对各种系统支持广泛，其他类似的 `Linux` 系统甚至 `Unix` 系统都是可以的，你几乎可以在任何系统上开始安装 `Webmin`。

我这儿准备了一台安装有 `Rocky Linux 8.6` 系统的机器，你可以和我一样，也可以拿你最熟悉的系统测试。



首先，我们可以先新建一个目录用于存放 `Webmin` 安装包，比如我新建了一个目录 `/sysadm` 。

```
mkdir /sysadm && cd /sysadm
```



然后，我们可以使用 `FTP/SFTP` ，或者也可以直接在系统中直接联网下载安装包。

```
wget https://prdownloads.sourceforge.net/webadmin/webmin-2.000.tar.gz
```



如果系统提示没有找到 `wget` ，那么先把它安装上，很简单，像这样。

```
dnf -y install wget
```

图03



为啥要用 `wget` 呢？

因为它可以直接解析链接从而找到正确的安装包下载地址来下载。

图04



将下载的安装包 `webmin-2.000.tar.gz` 解压缩。

```
dnf -y install tar
tar zxvf webmin-2.000.tar.gz
```



之后会在当前目录中生成一个新的子目录 `webmin-2.000` 。

图05



OK，接下来正式开始安装啦！

进入这个子目录，并执行安装程序 `setup.sh` 。

```
cd webmin-2.000
./setup.sh
```

图06



安装开始后它会问你几个比较关心你的问题，这些问题决定了未来程序会被放到什么地方。

不过不用担心，`Webmin` 已经被调整为在默认环境下都可以高效展开工作的状态，因此作为我们初学者来说完全可以闭着眼睛按回车哈。

话又说回来了，既然来都来了，那我们就趁此机会看看到底它都问了些什么问题，也好以后好奇心起突然想着回过头来再看就可能有点小麻烦了。



**好，它的第一个问题是，`Webmin` 的配置文件要放在哪儿？**

通常还是默认的 `/etc/webmin` 目录比较合适吧，放在其他地方我怕你以后也不好找，嗯，不要犹豫，回车！

图07



**第二个问题，日志文件放哪里？**

一般情况下日志文件都是在 `/var/log` 目录中的，你可以将它放到这里，比如像 `/var/log/webmin` 这样，当然保持默认也完全OK啦！

图08



**第三个问题，系统中的 `perl 5` 你放哪儿了？**

前面我们有说过哦，`Webmin` 干活是要靠 `perl 5` 帮忙的，因此这里要输入 `perl 5` 所在的完全路径。

图09



我们现在测试的 `Rocky Linux` 系统自带有 `perl` ，并且路径也没有问题，因此直接回车即可。

什么？你的系统还没有安装 `perl 5` ？

安啦！别担心，`Webmin` 很智能的，它会帮你自动安装的。

可见它对 `perl` 的依赖程度，当然这种情况多见于 `CentOS 7` 之类比较早期版本的系统。



**第四个问题，`Webmin` 想要工作在哪个端口上？**

默认端口是 `TCP/10000` ，这数字我看挺吉利的，就它了，回车！

当然了，如果有其他程序也工作在一万号上，那么这里最好改一改，不要搞冲突了哦！

图10



这里要插句嘴了，如果你想让这个端口顺利访问，千万别忘记在防火墙中设定为开放状态。

```
firewall-cmd --zone=public --add-port=10000/tcp --permanent
firewall-cmd --reload
```



**第五个问题，`Webmin` 登录用户名是什么？**

默认为 `admin` ，当然为了安全起见也可以设定为其他名称，不过千万别忘记了。

图11



**第六个问题，输入并确认登录密码。**

图12



**第七个问题，是否启用 `SSL` ？**

简而言之就是我们在输入 `Webmin` 管理网址时，前面打的是 `http` 还是 `https` 。

从安全角度上讲当然应该选择 `https` 了，毕竟通讯传输是加密的，如果没有什么特殊情况，这里最好选择 `y` 。

图13



**第八个问题，是否在系统启动时自动启动 `Webmin` 。**

根据你的实际情况做出选择吧。

图14



如果想手动启动 `Webmin` 的话，可以参考系统服务的启动方式。

```
systemctl start webmin.service
```



好，问题都回答完了，后面程序继续安装，直到完成。

图15



一切就绪后，我们就可以使用如下链接来访问 `Webmin` 了。

```
http(s)://主机名或IP:10000/
```



### 访问

打开浏览器，输入网址，我们可能会看到如下的警告页面。

图16



这是由于 `Webmin` 开启了 `SSL` ，并且使用的是自签名证书，不过不用担心，点击 `高级` 按钮，再点击继续访问即可跳过警告信息。

图17



OK，终于看到登录页面了。

图18



初次进入 `Webmin` 是这样式儿的。

界面变得非常简洁，左边是导航菜单，右边是警告信息，中间是仪表盘及系统信息。

图19



### 导航栏简介

* `Webmin` - `Webmin` 自己的一些配置设定
* `System` - 目标系统的一些基本配置设定
* `Servers` - 各种服务配置
* `Tools` -  工具软件配置
* `Networking` - 网络相关配置
* `Hardware` - 硬件配置
* `Cluster` - 集群配置
* `Un-used Modules` - 未启用模块，通常是系统尚未安装的服务
* `Refresh Modules` - 点击刷新模块，已安装服务其相应的模块就会出现



### 安装第三方模块

通常常用的模块会随着系统安装相应的软件而自动启用生效，一般情况下是够用了。

不过也有一些 `Webmin` 官方未开发的模块，因此我们需要找到第三方开发的模块将它安装上去。



打开 `Webmin` 主页，点击左侧的导航菜单项 `Third-Party Modules` 。

然后在右侧搜索栏内输入你想要找的模块名称。

图20



比如我们输入 `nginx` ，看看有没有 `nginx` 的第三方模块，得到如下结果。

图21



怎么安装呢？

我们打开左侧导航菜单 `Webmin Configuration` ，然后点击 `Webmin Modules` 。

图22



在 `Webmin` 模块安装页面，我们可以选择从本地（`Webmin` 所在系统）或是通过 `Webmin` 上传两种方式安装。

这两种方式需要事先将第三方模块下载下来才行。

图23



还有一个比较偷懒的方法，都不用自己去下载，可以直接选择 `Third party module from` ，然后点击右边的那个小按钮。

图24



然后在弹出的页面中找到你想要安装的模块，或通过过滤器来快速定位模块。

图25



比如我们输入 `nginx` ，然后点击模块名称，再点击 `Select` 。

图26



最后点击 `Install Modue` 安装，它会自动联网下载并完成安装。

图27

图28



我们再回过头来看，在 `Server` 一栏内新增了一项 `Nginx webserver` 的菜单项，说明我们安装成功了。

图29



### 写在最后

由于篇幅问题，针对各个模块是如何实现配置的在这儿我就不详细介绍了，大家可以在使用中慢慢熟悉各个模块的用法，本文抛砖引玉只带大家先入个门，了解一下有这么个好东西。

最后还是要说一下我的建议，大家不要有什么误区，虽然对初学者来说 `Webmin` 是一个方便的存在，但是随着对 `Linux` 系统的深入学习还是建议由结合使用 `Webmin` 过渡到独立配置系统为好。

学到最后你就会发现，至少对于使用 `Linux` 系统来说，还是自己手动配置比较稳妥。

在我个人看来，借助图形化工具是非常有利于入门实践的，但也千万不要造成喧宾夺主的假象。

好了，就说这么多吧，如果你有什么想法，欢迎留言评论。

OK，请小伙伴们排好队，点赞转发后从后门按顺序下车，谢谢！





**将技术融入生活，打造有趣之故事。**

网管小贾 / sysadm.cc

























