你有没有想过这样一个问题，不拆机箱怎么判断你用的是机械硬盘还是固态硬盘？

副标题：你有没有想过这样一个问题，不拆机箱怎么判断你用的是机械硬盘还是固态硬盘？

英文：how-can-you-judge-whether-you-are-using-a-mechanical-harddisk-or-a-solid-state-harddisk-without-opening-chassis

关键字：hdd,sdd,固态,机械,硬盘,powershell,physicaldisk,wmi,storage



这座城市正被阴霾笼罩，一场因波波拉病毒引起的疫情正在肆虐。

这种病毒异常可怕，无论男女老少一旦被感染上人就会不停地拉肚子，一波一波地拉，直至拉到眼冒金星虚脱为止。

外面危机四伏，看样子出是出不去了，可是被锁在家里也是无所事事、了然无趣。

为了打发时间，我翻起了我那“宝箱”，期待能在那些珍藏已久的破烂货中发现个什么新鲜玩意。



话说“宝箱”里尽是些破烂零碎，能有啥惊喜呢？

说这话时，我扒拉出一台半老不新的小电脑。

这台小电脑能有啥好玩的呢？



我突发其想，也不知道里面安装的是机械硬盘还是固态硬盘。

打开机箱看看不就知道了嘛，却发现螺丝是六角的，手头没有合适的工具，真奇葩了！

幸好还可以开机，那开机能不能确定当前使用的是机械的还是固态的硬盘呢？



如果当前系统是 `Windows 10` 以上版本，那么系统自带 `PowerShell` 程序，可以在开始菜单中找到。

`Windows 10` 中的 `PowerShell` 所在。

图01



`Windows 11` 中的终端默认打开的就是 `PowerShell` 。

图02



通常我们可以使用以下 `PowerShell` 命令查看硬盘的类型。

```
Get-PhysicalDisk
```

再看输出结果，找到其中名为 `MediaType` 的一项。

这项的查询结果若为 `SSD` 即是固态硬盘，若为 `HDD` 即是机械硬盘。

图03

图04



以上是 `Windows 11` 系统上的查询结果，如果是 `Windows 10` 也是一样的。

图05



如果跑的是虚拟机，那么介质类型可能为 `Unspecified` ，意思是“未指定的”。

就是说它也不知道你给它的是啥类型的硬盘，因为是虚拟的嘛，你可能用固态虚拟机械，它可是猜不出来的。

比如 `KVM` 上的硬盘 `Red Hat VirtIO` ，结果就是 `Unspecified` 。

图06



又比如 `VMware` 上的硬盘 `VMware Virtual disk` ，结果还是 `Unspecified` 。

图07



说到这儿其实存在两个小问题。

头一个小问题，有些遗憾的是，`Windows 7` 上默认不自带 `PowerShell` ，但是即使安装了 `PowerShell` ，也可能需要 `3.x` 版本以上才能识别 `Get-PhysicalDisk` 命令。

因此我们直接使用 `Get-PhysicalDisk` 命令的一个前提就是先确认一下当前系统是否在 `Windows 8.1` 版本以上。

没错，是 `Windows 8.1` ，因为这个版本开始就自带 `PowerShell` 了。

否则如果是 `Windows 7` 系统，那么可能还要费一番周折安装较高版本的 `PowerShell` 才行。



此外还有个小问题，如果想利用传统的命令提示符方式 `cmdlet` 来查询硬盘类型的话，其得出的结果可能不太理想。

比如使用 `wmic` 。

```
WMIC DiskDrive Get MediaType
```

得到的结果为

```
MediaType
Fixed hard disk media
```

图08



这样的结果并不能有效分辨出是固态硬盘还是机械硬盘，大家就不要再纠结于此了。



网上的绝大部分相关内容可能也就到此为止了。

可是对于像我这样的人来说，哪怕是打个命令都嫌费事啊！

总之能不能自己写个小程序来实现呢，我就不想还输个什么命令，记得懒的记了。

于是乎我就到网上去查资料了，结果发现还真让我找到了！



硬盘介质类型通常有以下这么几种。

* `Unspecified` - 未指定类型
* `HDD` - 机械硬盘
* `SSD` - 固态硬盘
* `SCM` - 存储级内存
* `Not recognized` - 未识别类型



`HDD` 和 `SSD` 都好理解，可这个 `SCM` 又是个什么玩意呢？

这个 `SCM` 是 `Storage Class Memory` 的简称，翻译过来就是存储级的内存。

其实它是新一代的介质形态，有点拿内存直接当硬盘的赶脚，机械和固态它都多少沾点边，具体的有兴趣的小伙伴们可以到网上查阅。



通过读取 `WMI` 就可以查询到当前系统中安装的硬盘类型，具体原理我就不赘述了。

然后我就顺手整了一个程序。

图09



如果你插上一个 `U` 盘，给出的结果也是未指定类型。

图10





**网管小贾的硬盘介质类型查询器.7z(35K)**

下载链接：





如果你有机械硬盘，不妨用这个程序试试看，应该显示为 `HDD` 。

另外如果安装有多块硬盘，那么程序就会显示多块硬盘的类型。

好了，不用拆机箱，只要你是 `Windows 8.1` 以上版本的系统即可正常食用（`Windows 7` 的小伙伴就老老实实拆机箱哈）。

还犹豫什么，外面又出不去，赶快来试试吧！



**将技术融入生活，打造有趣之故事**

网管小贾 / sysadm.cc

