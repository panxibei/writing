Win10系统开启指纹验证填坑

副标题：挖坑容易，填坑是真难~



公司的同事鸟枪换炮得了台新笔记本，本来挺高兴，结果因指纹验证无法设置有些扫兴，于是跑来找我。

我拿来一瞧，嗬，画面上有一行显眼的红字，上面赫然写道：

> 该设置由你的组织来管理。有关详情，请联系你的管理员。

图1



什么组织？我问他你是什么组织的？

他说，什么组织我不知道，我就知道你是管理员，所以来找你了。

我在想我算是哪门子组织的管理员？难道我被代表了？

好吧，不贫了，上网求助吧。

最后找到原因，居然是由于Win10系统加入到域环境后，开启验证的策略只支持 `Win Server 2012` 以上的系统。

很显然，现在的域环境是 `Win Server 2008` 的，并不支持开启。

不过解决方法是有的，而且很简单，如下导入注册表即可：

```
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\System]
"AllowDomainPINLogon"=dword:00000001
```

别和我说你懒，好吧，体谅每晚都要摆滩儿的你，给你链接直接下载吧。

链接：



导入注册表后，哈哈，设置由原来的灰色不可用状态变成可用状态了。

嗯，刺眼的红字也消失了，看来是得到了组织的信任了。

图2



嗯，很easy是吧？后面还有个坑等着你呢！

点击指纹设置按钮，哎，出现个窗口却一闪而过消失了！

再点，还是一样，点点点，就是不出来。

这是怎么肥四？难道又有刁民想害朕？

唉，其实原因很搞，是因为用户帐户控制安全级别不够造成的。

那是什么鬼？

给你看张图就明白了。

打开 `控制面板` > `系统和安全` > `更改用户帐户控制设置` 。

图3



上面这张图上随便你滑到哪儿，设置指纹都是没问题的。

但是如果你修改过注册表来降低安全级别，那可就不行了。

如果像下面这样，这几个键值都是0的话，那么大坑就会出现在你面前。

```
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System]
"ConsentPromptBehaviorAdmin"=dword:00000000
"ConsentPromptBehaviorUser"=dword:00000000
"EnableLUA"=dword:00000000
"PromptOnSecureDesktop"=dword:00000000
```



怎么会这样啊？

其实Win10系统中的很多程序特别是商店里的组件程序都是依赖这个帐户安全控制的。

而Win10与Win7相比，Win7把滑块拉到最下面就是安全级别最低，而Win10不是这样的，即使你拉到最低也不是最低安全级别，除非手动修改注册表。

这也正是为什么一旦牵扯到权限，有些程序（比如VB写的程序）有时在Win10上无法正常跑起来的原因之一。



好了，恢复成正常安全级别，重新启动电脑后，指纹又可以愉快地设置起来啦！

填坑就到这里了，或许还有其他的坑呢，你要是碰到可以和我一起讨论哦~

嗯，或许我比较适合摆地摊儿修电脑吧......