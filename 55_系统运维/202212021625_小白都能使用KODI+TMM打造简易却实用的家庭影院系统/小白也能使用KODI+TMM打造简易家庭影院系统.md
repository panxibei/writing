小白都能使用KODI+TMM打造简易却实用的家庭影院系统

副标题：小白都能使用KODI+TMM打造简易却实用的家庭影院系统

英文：a-newbie-can-also-build-a-simple-but-practical-family-theater-system-by-using-kodi-plus-tinymediamanager

关键字：kodi,tmm,tinymediamanager,家庭影院,影视,video,movie



我叫杨重阳，是个阳光开朗、长相洋气的90后小伙儿。

没错，每年的重阳节就是我的生日，小时候长辈们都特喜欢我，都亲切地叫我阳阳。

后来长大上学了，同学们喜欢互相起绰号，都管我叫阳了个阳。

然而现在参加工作后更妙，不知道是不是大家觉得我太帅，看见我都害羞低头贴着墙根走......



前几天我非常有幸加入了羊群大军，单位通知我居家休息几天。

就在家休息的这几天，我似乎明白了之前的人生过往和点点滴滴，世态炎凉，冷暖自知。

我重新思考着人生意义，决定趁着年轻得赶紧做点啥！

正好一下子空闲时间多了起来，另外又快过年了，以前想着要折腾一下家庭影院系统的事，现在可有机会了，干脆开干吧！



对于小白的自己，具体怎么入手比较好呢？

有了，我们就拿个最最最简易的方案来实验吧！



### 方案及准备工作

硬件：普通 `Windows` 电脑一台 ，电视一台或手机一部（此两项可选） 

软件：`KODI` 播放器 + `TMM` 刮削软件（文后有下载）

所有设备在同一网络中，可以互相访问得到。



**`KODI` 和 `TMM` 都是啥？**

这个必须先解释解释，简单地说，`KODI` 是一款播放器软件，但要比一般的播放软件功能丰富强大，是专门用于搭建影院系统的。

而 `TMM` 是 `tinyMediaManager` 的缩写，是一款刮削软件，大概意思是用来抓取网络上影视资源相关的元数据信息，比如影片简介、图片海报、演员介绍啥的。

至于它们的具体功能，小伙伴们可以翻看上一期的文章，里面写得非常详细清楚。



**最最简易方案之架构。**

图01



简单解释一下这个方案哈。

首先，整理好我们电脑上的影视资源，并将影视文件所在文件夹共享出来。

其次，在电脑上安装 `TMM` 刮削软件，通过网络抓取影视元数据，完善电脑上的影视资料信息。

最后，在安卓设备（手机或电视）上安装 `KODI` ，并将播放源设置指向电脑上的影视文件夹。

OK，大功告成！



**`KODI+TMM`打包下载**

下载链接：https://pan.baidu.com/s/1WeIsR_cqRcEBTo4IDJrp3A

提取码：5uwe



如果前面几个概念你还没搞明白，真心建议你最好把上一期文章看懂（文章不长），回头再来看肯定大有斩获。

好，话不多，我们开始吧！



### 影视资料共享

将电脑上存放电影电视剧的文件夹共享，这个操作大家应该都没问题吧？

在这儿我简单地罗列一下文件夹共享的操作步骤，如果确实有困难，还请小伙伴翻看我以前的文章，有专门讲文件夹共享的，非常详细。



右键点击存放有影视资料的文件夹，选择 `属性` 。

图02



切换到 `共享` 选项卡，点击界面上的 `共享(S)...` 。

图03



点击 `共享(H)` 按钮，直接使用默认的当前用户作为访问者。

图04



出现提示，选择 `是，启用所有公用网络的网络发现和文件共享` 后完成设置。

图05

图06



需要强调一下，当前用户需要设定一个密码，空密码是无法访问共享的，请自行设定密码。

如果想要无密码可访问共享，那么必须开启匿名访问，这也是在之前的文章中有介绍过，可能有点专业，建议还是用默认带密码的访问方式。



除了共享设定外，我们还需要注意的是防火墙是否开放了访问端口。

点击开始菜单并找到设置，依次找到 `网络和Internet` > `高级网络设置` > `Windows防火墙` 。

图07

图08



在防火墙设置界面中点击 `允许应用通过防火墙` 一项。

图09



点击 `更改设置` 按钮，并在列表框内勾选 `文件和打印机共享` 以及右侧所有确认框。

图10



文件夹共享在此基本设定完毕，后面重点来了！



### `tinyMediaManager` 的安装

为了方便以下我将 `tinyMediaMangaer` 简称为 `TMM` 。

我们需要将 `TMM` 安装到我们的电脑中，它安装起来也很简单。

双击开始安装。

图11



同意安装协议。

图12



`TMM` 默认安装到当前用户的 `AppData` 文件夹内，有特殊需要的话你也可以修改。

图13



确认是否创建桌面图标。

图14



准备就绪，开始安装吧。

图15



安装一切顺利，没啥花样很快就完成了。

图16

图17



补充说明：

如果你安装的是 `v3.x` 版本，那么可能还需要安装 `Java` ，`v4.x` 版本则不需要这样做。



### `tinyMediaManager` 的使用

打开 `TMM` ，程序开始加载。

图18



首次开启 `TMM` 它会蹦出一个设置向导，本着不用白不用的原则，我们就用这向导开始设置吧。

图19



接受负责声明，继续设置。

图20



对于用户界面有一定要求的小伙伴可以自行修改，我们演示的话就按默认的吧。

图21



接下来是设置电影数据源，我们找到前面存放电影的文件夹，将它添加进列表中。

请注意，图片中只是我作为演示添加的文件夹，以实际你的文件夹为准。

图22



确认一下图片中划线或箭头标记的那几项。

比如元数据抓取网址 `TMDB` ，还有首选语言，还有 `NFO` 文件的格式等等。

演示中安装的是 `TMM 4.x` 版本，因此抓取网址只能选第一个。

图23



然后是电视剧的相关设定，和前面电影的设定是类似的。

先指定文件夹，后设定抓取网址等参数。

图24

图25



好了完成，初始化设置就这么简单！

回到主界面后，我们点击顶部菜单的 `更新源` ，就可以看到影片列表了。

图26



不过现在还没有影片的相关信息，因为程序还没有进行刮削抓取工作。

我们点击顶部菜单的 `搜索&抓取` 。

图27



在出现的界面中，程序会自动按照它解析出来名称去搜索抓取网络信息。

图28



由于影片名称不准确，可能会导致抓取失败。

我们修正名称再试，过一会儿信息就可以成功抓取到了。

图29



如果遇到如下错误提示，很可能是 `themoviedb.org` 的域名 `DNS` 受到污染。

```
java.net.ConnectException: Failed to connect to api.themoviedb.org/210.56.51.192:443
```



解决方法很简单，只要在 `hosts` 文件中添加一行如下代码。

```
18.160.41.44 api.themoviedb.org
```

* `Windows` 路径： `C:\Windows\System32\driver\etc\hosts`
* `MacOS` 路径： `/etc/hosts`



回到主界面，再看看影片的相关信息，海报、介绍、演员都有了。

图30

图31

图32



如果你发现某些信息错误或不准确，那么可以点击顶部菜单的 `编辑` 来手动修正它。

图33



最后，当你打开影片所在文件夹时，你可以会看到一堆堆大大小小、乱七八糟的文件。

别慌，点击 `TMM` 顶部菜单 `重命名&清理` ，它会帮你瞬间整理好这些影片文件，每个影片都放在一个文件夹。

图34

图35



### `KODI` 的安装

`KODI` 在 `Windows` 上的安装非常简单，我尽量少说话，大家多看图吧。



双击程序包开始安装。

图36



同意安装协议。

图37



默认完全（ `Full` ）安装。

图38



指定安装路径。

图39



安装开始菜单中的程序命名。

图40



最后安装开始并顺利完成。

图41

图42



补充一个小问题，如果你在安装时遇到如下错误提示，那么多半是你的显卡驱动不够优秀，升级一下吧！

```
ERROR: Unable to create GUI. Exiting
```

图43



除了安装到 `Windows` 上外，我们的方案中 `KODI` 是可以安装到电视或手机上的，也就是安卓系统上。

只要下载 `apk` 安装包就可以自行安装，不过可能因硬件不同需要安装的 `KODI` 其版本也有所不同。

如果你在下载链接中获取的版本无法正常安装，说明你的电视或手机的硬件版本比较老旧。

这种情况下，请先查看硬件设备版本信息，比如 `ARM` 什么版本之类的，然后关注我给我留言，我可以帮你找一找是否有合适的旧版本安装程序。



=============

保留内容：

```
http://mirrors.kodi.tv/releases/
```

=============



### `KODI` 的初步设定

`KODI` 使用起来花样不少，不过我们作为小白单纯说一说基本的内容吧，等熟悉了再开发更高级的东西。

我们初次打开 `KODI` 往往界面是英文的，为了照顾和我英文差不多烂的小伙伴们，我们还是将它改成中文吧。



点击左上角的齿轮图标。

图44



找到并进入 `界面 Interface` 一项。

图45



左侧导航栏定位到 `皮肤 Skin` ，右侧定位到 `字体 Fonts` ，点击右边的 `Skin default` 。

图46



我们先将字体修改为 `Arial based` ，否则后面改为中文时会乱码。

图47



OK，回到刚才的界面，左侧导航栏定位到 `区域 Regional` ，右侧定位到 `语言 Language` ，点击右边的 `English` 。

图48



看了没，有个 `Chinese (Simple)` ，嘿，我就认得它，选它没错哈！

图49



注意，安装语言包是需要正确连接到网络上的哦！

安装完成后就是这个样子，一下子清爽多了！

图50



### `KODI` 的正式使用

一开始 `KODI` 会显示资料库为空，这没啥，前面铺垫了这么久，我们现在就可以开始添加了。



左侧导航栏点击 `电影` ，在右侧点击 `进入文件区` 。

图51



接着点击 `文件` 。

图52



点击 `添加视频...` 。

图53



在添加视频源界面中点击 `浏览` 。

图54



前面已经有了一个共享文件夹，在这儿我们就可以将它添加进来。

点击 `添加网络位置...` 。

图55



然后填写各个参数。

* 协议 - `Windows` 网络（ `SMB` ）
* 服务器名称 - 你开放共享的那台电脑名称
* 共享文件夹 - 共享文件夹名称
* 用户名 - 可访问共享的用户名
* 密码 - 可访问共享的用户的密码，前面有说过，需要自行设定

图56



参数正确的话就可以顺利添加共享，一路确定即可。

图57

图58



这里插句话，如果你设定的是匿名共享，那么直接选择 `Windows网络(SMB)` ，再找到你的共享路径就行了。

图59

图60



点击确定后系统会询问你设置内容，注意啦，这可是重点哦！

有两项必须要确认，第一个 `该目录包含` 选择 `电影` ，第二个 `选择信息提供者` 选择 `Local information only` 。

图61



如果误操作选择错误也不用担心，其实可以重新设置内容。

图62



好了，设定完成，回到主界面再看看，嘿嘿，是不是电影信息都出来了？

图63



### 写在最后

至此最为简易的 `KODI` + `TMM` 设定初战告捷，现在我们就可以开始享受全新的观影乐趣啦！

除了观影体验大大提高之外，实际上 `KODI` 等还有更多更多有趣的设定等着我们发现和使用，比如在线字幕等等。

本方案只用到一台 `Windows` 电脑和一台电视（或一部手机）即可完成，成本为零，而且上手容易，实为居家居家之必备良品。

本文目的也很明确，就是让小伙伴们能够呆在家里不烦躁、不心慌、不无聊，能有个良好的心态、愉悦的心情。

在漫长的居家生活中，让我们共同等待期待崭新而又未知的 `2023` 年。

盼望新的一年能够带给我们新的希望！

最后不用我多说吧，小伙伴们赶快行动起来，点赞关注、分享转发，谢谢啦！



**将技术融入生活，打造有趣之故事**

网管小贾 / sysadm.cc