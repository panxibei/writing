自动更新

副标题：

英文：

关键字：







回头一看，当时就吓出了一身冷汗。

图b01



在蓝色的屏幕上转呀转呀转……

此时此刻满脑子都是这句词儿，脑袋大了两圈。

赶紧胸前划十字，口中默念阿弥陀佛、阿门阿门，只求老天爷保佑，别出问题。

要是转半天蹦出一些花里胡哨的图标来，那就得原地吐血200cc。

图b02



要是那样还不如来个这个直接了当，一头碰死算了。

图b03



不管怎么说，如果能控制在每次重要场合不让它出现自动更新，会不会就不会有那么多死亡现场了呢？

有没有可能来实现自由控制自动更新呢？

当然有，不过我们不用网上那些乱七八糟的第三方工具，网上很多都是各种破姐啥的，那些多少都有些不正规不安全。

有人说了，那你的意思你有办法，而且还挺正规的呗？

是的，妥妥的官方方法，没有比这再正规的了。

不信，请看！



我们打开开始菜单，依次点击 `设置` （齿轮图标）> `更新和安全` > `Windows更新` ，这样我们就可以看到 `Windows` 更新界面了。

图b04



如果你要找不到也别慌，按下 `Win+R` （徽标键+R），在运行窗口中输入以下命令回车即可。

```
start ms-settings:windowsupdate
```



多说一句，这个 `Win` 键就是徽标键，就是下图那个按钮。

图b05



众所周知 `Windows` 系统的自动更新是可以暂停的。

估计有的小伙伴已经猜到了，是的，所谓官方方法就是用的这个暂停大法。



然而在默认情况下好像暂停的时间并不会太久，通常最多是大约 `35` 天，也就是 `5` 周左右。

这里暂停的时间使用的是 `周` 这个单位，很美国的样子哈！

图a01



不过就算单位不是周，好像这短短的暂停时间也只能称之为暂停，而不能被叫作较长久的停止。

如果我就是想近乎永久地停止下去呢？

换句话说，我能不能把那个暂停 `5` 周变成暂停 `1000` 周？

这种想法听上去很疯狂，但是现实生活中它居然是可以做到的！

神奇吗？

往下看！



说穿了关于暂停自动更新，实际上巨硬给 `Windows` 系统留有一个“后门”。

这个“后门”可以通过以下注册表路径激活，让我们先记住它的样子。

```
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UX\Settings
```

图a02



OK，你想将自动更新暂停 `1000` 周吗？

那就按下面的注册表键设置吧！



* `FlightSettingsMaxPauseDays` - 最大暂停天数（注意，这里是天数而不是周数，并且使用十六进制值表示）
* `PauseFeatureUpdatesStartTime` - 暂停特性功能更新的开始时间
* `PauseFeatureUpdatesEndTime` - 暂停特性功能更新的结束时间
* `PauseQualityUpdatesStartTime` - 暂停质量更新的开始时间
* `PauseQualityUpdatesEndTime` - 暂停质量更新的结束时间
* `PauseUpdatesStartTime` - 暂停自动更新的开始时间
* `PauseUpdatesExpiryTime` - 暂停自动更新的结束时间



注意，这些时间都是 `UTC` 标准时间格式，就是以大 `Z` 结尾的。

比如：`2023-07-07T10:00:52Z` 。

`UTC` 标准时间格式想要换算成北京时间，那么就要加上八小时，因此前面那个时间应该是 `2023-07-07 18:00:52` 了。



那么具体这些注册表项应该怎么玩呢，举一些例子吧！



 **暂停更新至2042年（1000周）：** 

```
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UX\Settings]
"FlightSettingsMaxPauseDays"=dword:00001b58
"PauseFeatureUpdatesStartTime"="2023-07-07T10:00:52Z"
"PauseFeatureUpdatesEndTime"="2042-09-05T09:59:52Z"
"PauseQualityUpdatesStartTime"="2023-07-07T10:00:52Z"
"PauseQualityUpdatesEndTime"="2042-09-05T09:59:52Z"
"PauseUpdatesStartTime"="2023-07-07T09:59:52Z"
"PauseUpdatesExpiryTime"="2042-09-05T09:59:52Z"
```



 **恢复至默认：** 

```
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UX\Settings]
"FlightSettingsMaxPauseDays"=-
"PauseFeatureUpdatesStartTime"=-
"PauseFeatureUpdatesEndTime"=-
"PauseQualityUpdatesStartTime"=-
"PauseQualityUpdatesEndTime"=-
"PauseUpdatesStartTime"=-
"PauseUpdatesExpiryTime"=-
```



