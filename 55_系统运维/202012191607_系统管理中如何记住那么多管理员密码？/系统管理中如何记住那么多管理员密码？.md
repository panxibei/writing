系统管理中如何记住那么多管理员密码？

 副标题：万能密码不可取啊~



年假已尽，急需假期充值。

2021新一年的元旦、春节近在咫尺、遥望可及。

嘿嘿，终于马上可以休假了，小伙伴们早就按捺不住激动的心情了吧！

不过让人不放心的是，放假可是会让人生病的哦！

放假还会生病？

是的，假期结束，很多人就会有假期综合症。

而这个假期综合症的症状之一，就是今天我要说的**密码遗忘症**。

先来看看下面这个经典情景对话。



某节假日结束后上班的头一天早上，行政科的吴规捧着笔记本电脑急急忙忙来找孔大力。

“大力啊，快...快帮我看看，这电脑咋...咋登录不上了呢？”，吴主任喘着粗气说道。

孔大力丢了一眼，这不提示密码错误嘛，“你这是密码错误，重新再输一次试试！”

“我...我都输了好几次了，都...都不行啊！”，吴主任边喘气边说道。

“那你最近改过密码没？”，孔大力略微皱了皱眉。

“没有啊，放假...放假前都没动过啊！”，吴主任一脸懵逼，眼睛瞪得溜圆。

“哦，您稍等哈，我先看看系统上有没有问题。”



孔大力打开ADSI编辑器，不一会儿找到并打开了吴主任帐号所在的对象属性。

在属性窗口中往下查找，找到了最后密码的修改时间。

图1



“嗯，密码修改时间没问题，最近应该是没有修改过密码...”，孔大力盯着屏幕心中暗想。

“吴主任，系统上没问题，要不您再回忆回忆密码，再试试？”

“试过了，怎么试都不行啊！咋整啊？”

“咋整？这是典型的密码遗忘症，是病，它得治啊！”，孔大力故意开玩笑地说道。

“咋...咋治？”，吴主任咽了一下口水，有点吃惊。

“这病啊它不归我管，吴主任啊，这病可拖不得，得赶紧上医院窗口先挂个号！”，孔大力还来劲了。

“哦，你都治不了，那挂哪个科？”，他似乎知道孔大力在耍他，明知故问起来。

“这个嘛...我也不太懂，要不先试试精神科？”

“呸，我让你先试试骨科！好你个孔大力，别开玩笑了，赶紧整！”

“还急了哈，支付宝密码您咋忘不了呢？”

“我一直用一直爽，根本停不下来啊！”，吴主任摸了摸将军肚，嘿嘿一笑。

孔大力也笑了笑，马上收了招式，“得嘞！那我只能帮您先重置成默认密码了，之后您再自己改成其他密码。”

经过重置密码，吴主任也就顺利地登录进了电脑，这件事就这样暂时解决了。



这段经典场景对话能给我们带来什么启示呢？

对了，遗忘密码这事儿经常发生，它俨然成为了一个严谨的生理问题、精神问题、医学问题、甚至是个社会问题！

是我言过其实了吗？

每逢假期结束，总会有一些同事带着电脑跑来看望我，怕我没来上班，怕我是不是出什么意外。

而实际上当他们发现我好好的坐在工位上后，立马换了一副面孔，急切得说明他们来看我的真实目的--解决密码遗忘症，而对我的虚情假意早已抛之脑后。

这么一来二去时间一久，我多少出现了一些幻觉，感觉我成了半个坐堂的白大褂，办公室门牌都被换成了贾大仙办事处了。

先哲人部斯窝索德曾经说过：回忆是美好的，遗忘是痛苦的，而遗忘密码是最令人可怕的。

一般用户一个密码尚且容易遗忘，那作为系统管理员需要记住那么多系统管理密码又会是怎样一种体验呢？



通常，系统管理员会对每个不同的系统分类，以便找出记忆密码的规律。

例如将各个系统设备分类为服务器、网络设备、打印设备等等。

再将这些分类细化，最后按 `分类+细化分类+主机名称+某些字符` 组合。

简单的举例：

* Windows服务器1：ServerWinS001ABC123
* Linux服务器1：ServerLnxS001ABC123
* Cisco交换机1：NetworkCiscoN001ABC123
* HP打印机1：PrinterHPP001ABC123



学过编辑的小伙伴们应该知道命名空间的概念，你可以简单地理解为多级分类，先大类后小类多层次，这样可以解决命名冲突的问题。

从上面的举例中看，似乎这是一个行之有效的好办法。

不过嘛，它也有一些痛点。

当管理的服务器和设备数量增多，那么就会加重管理员的记忆负担。

另外密码位数也会随着设备数量增加而扩展，也会造成记忆负担。

用人脑去记住辣么多密码，想想都可怕对不对，好了，不如不要再想了！

有电脑你为啥还用自己去记呢，对吧？



于是，自己做了一个简单的密码管理器。

因为自己用，所以做得简单一些。

* 基于安全考虑，使用本地数据库SQLite，不使用网络功能。
* 自动生成复杂密码，当然你也可以自行输入。



1、自动生成复杂密码

图1



2、将明文密码加密，生成新的密钥

图2



3、将帐号和密码，以及用途说明保存到数据库

图3



4、密码信息可以查询，也可以修改

图4



单击表格项，可以显示表格内容，同时可以修改它。

双击表格项可以删除当前记录。



如果你有很多的服务器、交换机、路由器或其他一些设备需要保存密码，那么这款密码管理器可以满足一般的要求。



好了，假期将近，祝小伙伴们吃好喝好休息好，注意运动，保持健康！



