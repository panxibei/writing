还真有一款纯汇编撸的操作系统 KolibriOS

副标题：又是俄罗斯大神的作品~

英文：there-is-really-an-operating-system-written-entirely-in-assembler-fasm

关键字：kolibri,os,fasm,asm,windows,linux,assembler



操作系统我们也介绍过不少了，除 Windows 外，大多数都是 Linux 的衍生版。

当然也有非 Linux 内核的操作系统，不仅体积小、运行速度快，而且功能也强大，一点儿也不输那些 Linux 系统。

不过这次我找到了一款更加小巧、更加强大的系统。

小到只需要几兆字节的磁盘空间和8MB的RAM就可以流畅运行。

强大到拥有丰富的应用程序集，什么文字处理、图像查看、Web浏览器，当然还有数十款游戏。

这是真的吗？

看过央视二套《这是真的吗？》就知道，答案肯定是真的！



这款操作系统的大名叫作 `KolibriOS` ！

一看名字就比较拗口，有点男的叫斯基，女的叫诺娃的赶脚。

没错，它正是一款俄罗斯神作，出自于俄罗斯大神之手！



为啥体积又小、功能又如此强大？

原因很简单，它从上到下、从头到尾完完全全都是用汇编语言写的！

纳尼，完全汇...汇编？！

嗯哼，意不意外，惊不惊喜？

哈哈，是不是瞬间想知道这些大神们是否健在，毛发可还安好？

其实也没啥，与近日热播的建党百年大剧《功勋》中，60年代的打孔计算机比起来，汇编语言还算是非常高级的呢！

不管怎么说，单纯用汇编就已经可以让我等小白顶礼膜拜一番了。

既然这么神奇，那我们肯定是要体验一下的，灰常幸运的是大神们给我们提供了 `LiveCD` 和写入U盘移动设备的镜像文件，我们直接拿来用就行了，赞一个！



### 下载安装

官网下载链接：http://www.kolibrios.org/en/download

打开官网，点击第一行靠后的那个标识为英文的链接开始下载。

图01



下载后得到一个名为 `latest-iso.7z` 的压缩文件，将它解压缩后便可得到 `kolibri.iso` 的镜像文件。

在官方的 `HowTo` 中有详细的运行 `KolibriOS` 的方法介绍，我这儿就用我常用的 `VirtualBox` 来做演示。

需要注意的是，我这儿的方法和官方有一些出入，这儿的方法是测试成功的。



OK，新建一个虚拟机，注意要选择 `Linux` 类型，并且选择 `Other Linux (32-bit)` 版本。

然后内存保证64M以上就行了，嗯，从这儿就能看出的确够牛的，我的老破机器又有春天了。

当然官方也提示我们，如果你要运行 `DOSbox` 等之类比较吃内存的程序的话，建议最好还是将内存搞到256M以上，话说反正我们现在也不缺那点内存不是，给它就是了。

硬盘需要多大我倒没注意，给了20G，反正它的需求不会大到哪儿去，够用就行。

当然这个硬盘在使用 `LiveCD` 启动时是用不上的，因为它不支持直接安装到硬盘上，不过可以参考后面写入移动设备的那一节内容。

其他的默认或自行调整即可。



好了，我们从光驱启动 `LiveCD` ，看到了开机画面如下。

图02



从启动画面中我们可以看到，系统给了我们几个启动选项，通常我们不用修改这些选项，让它自动启动或直接按下回车即可。

不过这里要踩个小坑，我的电脑屏幕小了一点，无法一次性放下 `1024x768` 分辨率的画面。

于是我就需要修改第一个选项，也就是选项 `a` ，所以我按下了 `a` 键，并移动上下光标键选择了 `800x600` 的分辨率选项。

图03



回车确认后系统回到启动画面，你需要再次回车让它继续启动，这时你会看到它提示是否记住当然设置。

图04



小心了，这就是一个坑，因为只要你按下 `y` ，那么系统就无法正常启动。

没错，这时应该按下 `n` ，系统就能顺利启动了，这个坑有点奇葩。



### 使用

非常不可思议，在我这儿用了几乎最多一秒钟系统就进入了桌面，真是名副其实的秒入啊！

看图，它长这个样子，其中背景图片并不在正中心是因为前面我们修改了分辨率的缘由，不用太在意哈。

图05



嗯，我们很容易能看出来，桌面上图标被分别整齐地放在了四个角上。

左上角的应该是一些应用程序，包括什么文件浏览器啊、文件编辑器、计算器啥的应用程序。

右上角呢，比较专业了，都是些和汇编语言有关的程序编译软件、16进制编辑器等等。

而下面部分虽然分成了左右两边，可我怎么看都是一些游戏而已嘛，难道游戏还有什么特殊的区分吗？

哦，也许只是单纯为了图标摆放好看吧！



这里的程序都是点击后秒开，官方也说了，他们就是想要消灭鼠标沙漏斗（Win10 是无限转圈圈），也就是所谓的等待时间，真是太棒了！

此外，窗口也没有最大化功能，标题栏处按下鼠标右键，窗体就会收起只剩下标题栏，这个有点像某些 Linux 系统。



##### 文件资源管理器

`KolibriOS` 的大神们一口气就创造了三种文件资源管理器，要不怎么说他们是大神呢！

图06



从抓图中我们能看到的确有三种文件资源管理器，分别是 `KFM2` 、 `EOLITE` 和 `KFAR` 。

那为啥大神们要搞出来三个来呢，炫技吗？

当然不是了，你看看这三个不同的管理器，单从界面上就能看出来，它们的风格完全不一样啊。

`KFM2` 是 `KolibriOS` 自家的，而 `EOLITE` 一看就像是仿 Windows 的风格，还有 `KFAR` 妥妥的 DOS 类的复古风格。

具体还有啥不一样，只能小伙伴们自己去体验了。



##### 汇编编辑器

`KolibriOS` 是用汇编语言 `FASM` 编写的，正是这一点使得它的性能优异、运行效率异常出色。

但是如果我们仔细想想，要是让我们一行一行地写汇编代码，就算是累吐了血也不可能完成的啊！

那理所当然大神们也不想为了一个系统而累到吐血，因此他们在搞系统的同时也顺手开发了一个可以用 `FASM` 写代码的编辑器。

这也印证了重复造轮子的人，有可能是大神，但大神肯定是能自己造轮子。

这样一来，就算是用的汇编语言，写起程序来也可以轻松很多。

这个编辑器，或者称之为开发环境就叫作 `Fresh IDE` 。

官方链接：https://fresh.flatassembler.net/index.cgi?page=content/0index.txt



为啥要介绍这玩意呢？

因为这也是大神的神器之一，它可以跨平台使用，也就是说，它其实可以在 Windows/Linux 上工作。

明白了吧，这个 `Fresh IDE` 除了在 `KolibriOS` 上使用，还可以被安装在我们常用的 Windows 或 Linux 上哦！



我们可以到官网上下载到 `Fresh IDE` 的安装包。

下载链接：https://fresh.flatassembler.net/index.cgi?page=content/2_download.txt



在 Windows 平台上，除了 `exe` 格式的安装包外，还有一个 `zip` 格式的打包好的文件。

我们将这个压缩包解压缩后，直接运行 `Fresh.exe` 就可以开始使用它了，完全是环保绿色版的节奏啊！

图07

图08



绿色乌龟很神气的样子，别看平时它慢慢悠悠，真要和兔子赛起跑来，那跟飞似的！

Linux 下的我就不再赘述和演示了，都差不多，而具体的用法，就留给喜欢玩汇编的小伙伴们动手思考吧，多年荒废汇编的我就不在这儿班门弄斧了。



##### 网络

一个不能联网的系统是没有灵魂的系统，`KolibriOS` 当然不是了。

点击开始菜单，找到网络状态一项，在 `IPv4` 选项卡中点击 `Configure` 按钮即可编辑 `IP` 地址等信息。

图09



设置好网络，我总要验证 `Ping` 一下吧，可是当你打开桌面右上角的那个 `SHELL` 后，你就会发现，这个窗口里根本就没有 `Ping` 命令。

这是怎么回事呢，难道大神在这么小细节的地方都有疏忽？

 图10



No No，怎么可能嘛，其实只要点击开始菜单，顺着网络一项就可以找到 `Ping` 命令了。

直接在窗口提示符后输入 `IP` 地址就可以开始测试网络了。

图11

图12



话说大神们为啥非要将 `Ping` 作为一个专门的工具程序单独放置呢？

我猜测也有可能是我们的固有思维，认为这么个简单命令就应该是放在 `Shell` 中的。

有时这种定势思维也会妨碍我们思考，从而做出错误的判断啊！



##### 游戏

大神们在写程序的时候总会疲惫，稍事休息可以理解，但 `KolibriOS` 中却放上了三十多款游戏，这是要闹哪样？

看来天底下的程序员都是游戏爱好者这一点肯定是错不了了！

图13



或许你觉得这些小游戏都没啥，不过当我打开 `Pipes` 翻译过来也就是管道这个游戏时，我一下子就回忆起至少10年之前第一次玩这游戏的场景。

没想到时隔这么多年，竟然在 `KolibriOS` 上再次看到它，非常怀旧，内牛满面，感谢大神！

不过时间这么久，我也不记得当年是在哪个平台上玩过管道游戏了，现在还特意玩了一把，挺有意思！

除了这款游戏外，还有数独、贪吃蛇、俄罗斯方块、扫雷等等，你见过的和没见过都在这儿了。

图14



### 从移动设备上启动 `KolibriOS` 

对于想将 `KolibriOS` 放到磁盘上的小伙伴们，大神已经给我们提供了将 `KolibriOS` 装入磁盘的机会。

到官网下载页面上选择第二项下载。

图15



将压缩文件 `latest-raw.7z` 解压后得到一个 `kolibri.raw` 文件。

随便找一个你喜欢的写U盘的工具，比如我用的是 `rufus` 。

选择待写入设备的文件，也就是刚才解压缩得到的 `kolibri.raw` 文件，使用默认设定开始写入即可。

图16



写入完成后，由于U盘文件系统我们用的是 `FAT32` ，所以我们可以直接打开并查看U盘上到底写了些什么文件。

这里要注意一下，我们可以看到U盘根目录中有一个 `EFI` 文件夹。

很明显，它是支持 `UEFI` 方式启动的，所以，你可以直接拿着U盘去启动电脑，但需要留意应该使用 `UEFI` 方式启动。

图17



我使用U盘来启动 `KolibriOS` 后，居然没有出现像之前 `LiveCD` 启动那样的选项菜单，取而代之的则是直接进入了桌面。

如果我想要修正分辨率等设置应该怎么办呢？

关于这个问题还是留给小伙伴们自己去思考吧。



### 写在最后

通过 `KolibriOS` ，我们真正地了解到了大神们所诠释的什么叫作专业。

回过头来我们再看看，使用现代的高级编程语言来开发程序，虽然看似开发效率提高了，开发环境有了长足进步，可是早些年的程序员应该有的高精尖的精神气却少了许多。

从前受制于系统条件限制，将提高代码效率放在第一完全可以理解，可是现在没有那么多限制了，为啥仍然还有大神对于效率提升依然痴迷？

如今我们还有谁能够真正关心并深入学习了解更好的算法、更有效率的代码呢？

更不用说国内的普通现状，简单粗暴地将开源项目拿来就用，美其名曰拿来主义。

如今看到了 `KolibriOS` ，看到了众多大神特别是俄罗斯大神的作品，我们应该反思反思了。

是不是在应用为王的当下，我们想要再更进一步的话，基础的东西是否应该重新再捡起来呢？



**扫码关注@网管小贾，阅读更多**

网管小贾的博客 / www.sysadm.cc

