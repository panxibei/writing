把XMail企业邮局应用到系统管理中（管理篇）

副标题：简单易用才是应用之道~



在实际的系统管理活动中，GUI的方式占了相当大的一部分，毕竟方便直观，谁用谁知道。

之前的文章中已经介绍了 `XMail` 的安装和配置，而管理可以通过命令行方式，但毕竟在大批量操作面前会显得力不从心，以至于时间一久身心俱疲。

>往期文章链接：
>
>[《把XMail企业邮局应用到系统管理中（安装篇）》](https://www.sysadm.cc/index.php/xitongyunwei/743-xmail-install)
>
>[《把XMail企业邮局应用到系统管理中（配置篇）》](https://www.sysadm.cc/index.php/xitongyunwei/745-xmail-config)



摸摸自己还有几根头发，是不是顿时感觉头皮发麻，吾命将休矣？

还好有前辈们已经为我们铺好了路，如今的我们都是幸福的一代人，站在了巨人的肩膀上可以眺望更高更远。

但是先别高兴，那毕竟是巨人的肩膀，你至少也要有本事先爬上去哈！

来看看怎么先爬上去~



#### 一、前期准备事项

1、安装 `XMail` 并启动服务

在之前的文章 [《把XMail企业邮局应用到系统管理中（安装篇）》](https://www.sysadm.cc/index.php/xitongyunwei/743-xmail-install) 中有介绍，我自制的一键安装非常方便。

不过需要注意，出于测试目的，成功安装好后，`XMail` 服务并未启动，第一次需要你手动启动它。



2、防火墙开放端口

`XMail` 默认访问端口是 `6017` ，要保证是开放状态。



3、创建管理员帐号

通过管理工具访问 `XMail` ，肯定是要有管理员帐号和密码的。

如果没有管理员帐号和密码，那么就会报类似于下面这种错误。

图1



之前的另一篇文章 [《把XMail企业邮局应用到系统管理中（配置篇）》](https://www.sysadm.cc/index.php/xitongyunwei/745-xmail-config) 有介绍如何生成管理员的帐号及密码。

以下示例生成管理员，帐号 `admin`，密码 `adminpass` ：

```
# adminpass为密码明文，相应生成密文0401080c0b15041616
C:\MailRoot\bin\XMCrypt.exe adminpass

# 编辑 C:\MailRoot\ctrlaccounts.tab ，添加如下内容：
# 注意：每行格式一定是 用户名[tab]密码[回车] 。
admin    0401080c0b15041616
```



#### 二、管理工具的实际使用

有了以上初步的设定，接下来正式进入管理工具介绍使用篇章。

官网有一款第三方制作的管理工具，使用VB6编写，基本的管理功能都能实现。

我部分魔改汉化了这款程序，修正了一些BUG，文末有下载。

如果你感兴趣，可以到官网下载源码，也可以联系我获取我修改过的源码。

我们来看看怎么个用法。



1、添加你想要管理的 `XMail` 服务器

如图，填写你的服务器名称（可随意）、IP地址、管理员帐号和密码，点击 `新建服务器` 。

图2



2、添加域

点击左侧树型视图中的服务器名称，在右侧填写你要添加的 `域名` ，并点击 `新建域` 。

图3



我们可以看到，除了我们新添加的域名外，还有一个 `xmailserver.test` ，这是默认安装的测试域名，我们把它删除即可。

图4



3、添加用户

这个很简单吧，左侧选择相应的域，右侧填写 `用户/帐号名称` 和 `密码` ，再点击 `新建用户/帐号` 。

图5



4、用户属性参数

展开左侧域名，在域名下方会有刚才添加的用户。

点击用户，右侧会展示用户的属性和参数。

在这里，你可以修改用户的密码、添加别名、设定邮箱容量等等。

图6



5、用户邮件组

在之前的文章中还没有介绍过用户邮件组，在这里我们用管理程序尝试创建看看。

与添加新用户类似，只是要先**勾选 `邮件组帐号` 一项**后，再点击新建用户/帐号。

图7



点击左侧新生成的邮件组，在右侧可以看到有用户列表的管理界面，按提示添加相应的用户即可。

图8



OK！使用管理工具就是辣么简单方便哈！

如果要测试，可以参考 [《把XMail企业邮局应用到系统管理中（配置篇）》](https://www.sysadm.cc/index.php/xitongyunwei/745-xmail-config) 中的测试部分内容。

毕竟是GUI可操作性比命令要强多了，一般的使用场景用它绝对能应付了！

好了，废话不多说了，今天就介绍到这里，有什么不足，请小伙伴们关注我的微信公众号后发消息给我吧！

搬砖休息间隙，我会尽力回复的，谢谢你们！



**`setup_XMailAdmin.7z` 安装包**

下载链接：https://o8.cn/4onOXt 密码：lix0



> WeChat @网管小贾
>
> Blog @www.sysadm.cc

