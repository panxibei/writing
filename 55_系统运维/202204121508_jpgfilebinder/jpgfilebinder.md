jpgfilebinder

副标题：

英文：

关键字：





简睿和徒弟蔡学飞刚走进办公室大门，就发现有几个生面孔和秦队正在说着什么。

他们一见到简睿纷纷将目光投向了他，很明显，这几个人肯定是冲着简睿来的。



秦队一边招呼着简睿，一边拉着那几个人就往队长办公室走。

简睿不知道队长找他什么事，径直走进了队长办公室，而蔡学飞则偷偷跟了进来，想听听到底有啥新鲜事。

秦队见众人都到齐了，也不啰嗦，向简睿介绍了来者是国安的同志，是来向他寻求帮助的。



原来，就在昨天，国安在某犯罪组织的卧底人员在将秘密工程图纸带出时不幸遭遇车祸。

目前该人员已被送往医院紧急抢救，虽说暂时没有生命危险，但此时仍在抢救室观察，还无法与外界沟通联系。

警方目前也只能从他的随身物品中寻找线索，由于怕执行任务中暴露身份，唯一有线索价值的物品仅仅是一台笔记本电脑，其中很有可能隐藏着我方急需的找到的秘密工程图纸。

可当警方打开电脑后却一无所获，除了几张全家福的照片之外并无其他有用文件，并且也排除了隐藏文件的存在。

情况紧急事关重大，上级领导指示必须第一时间找出图纸，这才由国安工作人员辗转找到简睿。



简单嘱咐了几句后，秦队将那部电脑交给了简睿后就离开了。

看着手中的电脑简睿还没说什么，蔡学飞倒吐槽了一句：“师傅，这又是要加班的节奏啊！”

简睿瞪了他一眼：“干我们这行的有哪天不加班？少发牢骚，多干实事！”

蔡学飞撇了撇嘴，没敢多说啥。



直到天黑了，简睿还在研究这台电脑，至今还未有任何进展。

蔡学飞送来了盒饭，他想劝师傅先吃一口，歇会儿再工作。

简睿一看表，可不，都快八点了，晚饭还没顾得上吃呢，肚子还真饿了。

蔡学飞心疼简睿，说道：“师傅，你先慢慢吃着哈，徒弟我先帮您老人家看看！”

简睿一边吃着一边回道：“别乱动啊，别误操作把电脑给搞坏了。”

蔡学飞笑道：“哪儿能啊！我就瞅瞅！”

“哎？师傅，你说卧底这人奇不奇怪，电脑里别的不放，就放几张全家福照片也就算了，怎么弄了半天这全家福都是一个样啊！”

没想到就蔡学飞这一句话，简睿听后是灵光一现，唰地站了起来！

“哎呀！还真是啊！”简睿顾不上吃饭，仔细观察着那几张全家福照片，看来看去怎么都一个样子呢？

图a01



虽说照片内容一样，文件名不一样也是合法的，但为什么这个人要这么做呢？

也不知怎么，简睿尝试着用压缩程序将其中一张照片文件打开，没想到由此揭开了其中的秘密。



### 照片里的秘密

为了印证自己的猜测，简睿在自己电脑上找来了一张与“全家福”同样分辨率和大小的图片。

令人吃惊的事情发生了，卧底人员电脑里的“全家福”照片容量很显示要比其他的图片大得多。

难道说...这些照片里隐藏着什么？

简睿提出了大胆的猜测，手动修改了文件的后缀并将文件用压缩程序打开。

图a02



令人震惊的事情发生了，照片里赫然藏着苦苦寻找的“秘密工程图纸”！

图a03



### 将压缩文件放到图片里

这是怎么回事呢？

照片怎么当压缩文件来使用的？

简睿忽然回忆起上学的时候，老师曾经讲过一个 `DOS` 命令：`Copy` 。

这是一个复制文件的普通得再不能普通的命令，但是可能有不少人并不清楚，它还是个连接文件的命令。



通过如下命令，可以将两个甚至多个文件首尾连接成一个新的文件。

```
# copy 源文件A + 源文件B + ... 目标文件
# 将FileA和FileB连接起来生成FileC
copy FileA + FileB FileC
```



而通过这种方式连接后产生的新文件往往看上去和第一个源文件很像甚至是一样的。

怎么理解这事呢？

我们都知道，破坏计算机的程序叫做病毒，那为啥叫病毒不叫细菌呢？

因为病毒是寄生在其他正常细胞下才能生存的，而计算机病毒也是在正常文件后面接上一段病毒代码从而可以激活它。

其原理就如生物界的病毒一般，因此而得名。

于是乎早期的病毒检测手段基本上都是通过检查文件长度是否异常来判断是否有病毒。

而 `copy` 命令正是基本这种原理可以将文件连接起来的工具。

图b01



### 验证文件

为了进一步证实自己的猜测，简睿将照片用压缩工具打开后查看其文件属性。

图a04



果不出所料，这是一个精心包装过的压缩文件，只不过表面看上去是幅图片罢了。

图a05



从图片中我们可以看到，压缩文件的格式实际上是 `7z` ，同时它的内容并不是从头开始的，而是有偏移量。

这个偏移量正是图片的大小，也就是说，压缩包被完完整整地放到了图片的后面。

这一点可以通过查看原始图片的大小来验证。

图a06



### 真相大白

事情到了这里，似乎就很清楚了。

卧底人员在十分紧急的情况下，为了防止资料暴露，利用有限的条件，在电脑上直接使用 `copy` 命令“加密”了文件。

由于时间仓促，他可能只用到了一张照片，致使所有的文件都显示为一张“全家福”。



### 写在最后

这种“加密”方法虽然比较原始，不过它利用了压缩文件，如果想要进一步保证安全的话，加上密码可能会更加保险。

作为小规模加密自己的文件，这样做些来也不是很难。

我根据本案例，自己动手攒了一个图片加压缩文件绑定程序，免去了手动打命令的麻烦。

图c01

图c02



先选择图片，再指定压缩文件，最后点击 `开始绑定` 即可生成新文件。

新文件表面看上去是图片，实际隐藏了压缩文件。



下载链接：









**扫码关注@网管小贾，阅读更多**

网管小贾的博客 / www.sysadm.cc
