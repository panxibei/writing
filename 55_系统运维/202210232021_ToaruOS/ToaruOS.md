ToaruOS

副标题：

英文：

关键字：



程序员趁老婆不在家，撸了一套操作系统。

听上去要么是标题党，要么就是个段子，不可信。



那30天自制操作系统呢？

你别说，还真有一本 《30天自制操作系统》的书，而且还一度畅销。

不过这30天做出来的系统能是个啥样子，我想你猜都能猜出来吧，估计理念占了大多数，实际部分少的可怜吧。



注意，我可没说这本书不好，我就问你，操作系统开发难不难？

还用说，一个字，难！

好，那我多给你点时间，300天，不，3年，或者干脆给个十年八年。

时间够了吧，我就问你，你还能拍着胸脯自信大胆地说：“我能行”吗？



就算时间给得够，我想恐怕你也会退缩，因为个人力量总是有限的，人生能有几个十年呢！

然而，在这个世界上居然真的有人搞了十多年操作系统开发，关键还做得不错！



### 坚持10多年开发的系统

前几天我刷到了一款未曾留意过的操作系统 `ToaruOS` ，没有说它是新系统，是因为它已经发展到现在10年有余了。

不知道算不算得上是巧合，它的作者 `klange` 和《30天自制操作系统》的作者一样，都是日本人。

虽然它们出现的时间点非常的接近，都在大约2012年前后，但是我猜测他们应该不是同一个人。

不过这些都不是重点，重点是接下来我对于 `ToaruOS` 的一些粗浅的认识和了解。



先上个官网链接：

> https://toaruos.org



再来张官网截图露个脸。

图d01



`ToaruOS` 自然也是开源的，`Github` 项目地址如下：

> https://github.com/klange/toaruos



通常一款操作系统的命名就是 `xxx` 加上 `OS` 即成了 `xxxOS` ，那么 `ToaruOS` 也不例外，就是 `Toaru + OS` 这样的组合了。

`OS` 我们知道，操作系统之意，那 `Toaru` 是个啥意思呢？

`Toaru` 其实是日语 `とある` 的罗马字母写法，意为“某xxx”或“该xxx”，比如“某人”、“某处”、“这个系统”等等。

那么很明显，`ToaruOS` 就是某某操作系统的意思了，就像喜剧大赛有个组合叫“某某某”一样。

想想应该是作者最初也不知道起个什么名字好吧，那干脆就拿像我们熟悉的“路人甲”、“某某人”这种称谓一样来命名，均是范指。



早在 `2010` 年， `ToaruOS` 作者 `klange` 最初出于对操作系统及内核开发方面工作的热爱，为了“边干边学，边学边干”，他从头开始研究学习类 `Unix` 系统。

然而你懂的，事情哪有那么简单，难道仅凭兴趣和热爱？

什么引导加载程序、系统内核、驱动程序、`C` 库以及用户空间，还有复合图形用户界面、动态链接器、语法突出显示的文本编辑器、网络堆栈等等，哪一项不是眼前巨大而无法逾越的大山。

就算让我记住这些名词术语都有些勉为其难，然而 `klange` 却奇迹般地一项一项啃了下来。



时间到了 `2015` 年，整整五年过去了， `klange` 终于做出了 `ToaruOS` 的 `1.0` 版本。

万事开头难，虽然只是 `1.0` ，但是至少初具规模有了个大概的样子。

直到现在（ `2022` 年），历时10多年，就在上周不久全新的 `2.1` 版本正式与我们见面（数周、数天之前仍在不断更新中）了。

图d02



如今 `ToaruOS` 作为一款业余爱好者以及具有教育演示性质的 `Unix-Like` 操作系统，被众多爱好者特别是初级爱好者们争相引用用于学习和研究。

`ToaruOS` 可以在 `x86/x64` 平台上欢快的奔跑，在部分 `ARMv8` 平台也可以实验性地测试运行。 

它通过自建的编译器工具可以构建出自己的内核、用户空间、库和引导加载程序，同时还可以将它们转换成一个可用的 `ISO` 镜像（文末有下载）。

即使 `ToaruOS` 是类 `Unix` 系统，看起来也很像 `Linux` ，但是它真不是 `Linux` 。

它是一个完全独立的项目，库中所有代码均为原创。

没有使用任何其他系统的代码，就这一点也是我非常敬佩作者的地方，说抄袭、仿照和套売的朋友可以把手放下了。

就算有可能参考了 `Linux` 代码，但别忘了当初 `Linux` 也是参考了 `Unix` 的，所以我们大可不必纠结这些，学习它优秀的地方才是正道。

其他方面涉及到太过专业的内容，小伙伴们可以直接到官网上查看，我要是再啰哩啰嗦列举在这儿就显得我忒不专业了。

对于像我这样的小白，系统的运用最重要，在这儿我们要做的就是简单地玩一玩这款系统，体验体验。



作者很贴心，为我们提供了 `ToaruOS` 的 `LiveCD` 镜像文件，我们可以到最新发行版页面下载。

> https://github.com/klange/toaruos/releases



最新版本 `v2.0.1` （截稿前已更新为 `v2.1.0`），前几天刚刚新鲜出炉，还提供了现成的 `ISO` 镜像文件，还犹豫什么，赶快下载试用吧！

图a01



### 安装体验 `ToaruOS`

拿起我心爱的 `VirtualBox` ，老样子先新建一个空白虚拟机。

当然了你用 `VMware` 、 `QEmu` 等其他的虚拟软件也行，其实告诉你一个小秘密，`ToaruOS` 实际上是可以在真实物理机上跑的哦！



我们将新建的虚拟机类型设定为其他 `Other` ，版本则设定为其他 `64` 位 `Other/Unknown (64-bit)` 。

图b01



跑系统内存当然是越多越好，但毕竟物理内存有限，我们最好还是按照推荐配置设定的好，一个G内存就可以了。

图b02



作为体验，我们就不添加硬盘了，如果你想将 `ToaruOS` 安装到硬盘上也是可以的。

图b03



我们可以选择性地调整一些参数，当然这是在不作大改动的前提下，比如加个 `CPU` 之类的。

图b04



之后别忘记挂上 `ToaruOS` 的镜像文件。

图b05



好了，激动人心的时刻马上就要到来了，启动吧！

图c01



出现了标志性的 `T` 字母，和其他系统一样，给你几秒钟的时间等待接下来的正式启动。

如果你按下了某些键，它就会跳出启动菜单让你有所选择地启动。

图c02



和通常的系统启动大同小异，都有常规启动、单用户启动以及文本模式启动之类的菜单项。

不过在启动项下面的参数勾选项中，很神奇地出了关于虚拟机的一些选项，看来开发一套系统，在虚拟机上跑是必经之路啊！

我们什么都不动，直接常规启动，很快进入了系统。

类似于这种短小精悍的系统，这启动速度都是很惊人的。

图c03



首先看到的是欢迎画面，对于初次使用者来说这很必要。

关掉欢迎画面，靓丽的桌面映入眼帘。

图c04



好吧，我们到处看看吧，差不多样子的系统有很多。

图c05



文件管理器

图c06



终端

图c07



文本编辑器，我没看错吗，它还支持 `markdown` ？

图c08



锁屏后的登录画面

图c09





### Qemu

使用 `Qemu` 也可以完美跑 `ToaruOS` ，有兴趣的小伙伴们可以自己动手折腾。

在这儿我懒地找 `Linux` 系统了，所以我直接用 `Windows` 上的 `Qemu` ，没有了加速速度会慢很多。

大概的启动参数以下，仅供参考。

```
qemu-system-x86_64 -m 1G -cdrom D:\ToaruOS\image.iso -smp 2
```



启动后的图形状态界面，这是最新的 `v2.1.0` 版的桌面，漂亮！

图g01



文本界面，还是挺不错的哈！

不过那个 `Sister's Noise` 是个什么梗？

图g02





只是表示，只是“玩玩”，并不一定具有实际的使用效果。

但大神就是大神，就算是“玩玩”也玩出了我们普通人玩不出的新高度。









说到这儿，我发现 `ToaruOS` 又又又更新了。

截止目前已经更新到了 `v2.1.0` 了，我将最新版放在这里分享给不方便访问 `Github` 的小伙伴们。



下载：









### 写在最后

大神 `klange` 十年如一日地开发出了 `ToaruOS` 系统，即使这套系统已非常接近“完善”，但仍然是无法与商业系统相比。

当然，这么对比也是毫无意义，因为开发系统的本质并不在所谓的图形界面或用户操作之类的问题上。

我之所以这么说，是因为此前我也曾介绍过其他一些类似的个人系统，但总有一些你给他十年他也做不出来啥的朋友会跳出来指指点点诸如生态、不实用、低操作体验等问题。

我们总是在说，什么时候能用上真正好用的国产系统。

有这样的想法是好事，当然也有很多人正在努力追赶认真做事，但我觉得我们应该有更多的人去理解和支持、甚至是最好参与的话，那么这个梦想终将会实现。





相信有不少小伙伴对于操作系统方面的知识非常感兴趣，但是大家觉得30天能够做出个有点样子的系统吗？

没错，估计有不少人被这本书的书名给带偏了，不得不佩服作者的营销手段玩得挺溜。

当然不可否认的是，这本书对于入门来说还有是有一定帮助的，中肯地说，所谓带偏只能说是我们自己好高骛远了。

现实是就算是看过这本书N遍后，我们也并不能真正地做出一个“上点档次”的操作系统。

结果我们就会有这样的深刻体会，这玩意是真心难搞啊！

于是热衷于操作系统研究的人就被自动分为两波，一波是真正用心致力于操作系统研发的大神，另一波则是站在外围的看客，这波人中就包括我自己。



虽贵为看客，但我与某些看客不同，不会无端挑剔，甚至出言不逊，至少我不会说出诸如“这系统N年没更新了还有人用，这系统图形界面差到底有啥用，没有生态P用没有”之类的无脑说辞。

我自知并非一朝一夕之事，因此我会对任何正在从事操作系统研究研发的大神们致以最崇高的敬意，包括写成 《30天自制操作系统》的作者。

