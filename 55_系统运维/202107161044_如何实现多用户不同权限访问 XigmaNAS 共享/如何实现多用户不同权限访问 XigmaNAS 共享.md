如何实现多用户不同权限访问 XigmaNAS 共享

副标题：让更多人同时使用网盘共享~

英文：

关键字：



有不少网盘爱好者对于共享的使用越来越频繁，甚至出现了重度使用者。

在众多的网盘系统中，通常有部分系统是有傻瓜式的操作界面和方法，非常方便用户来使用。

不过也有对用户要求更高一点的系统，比如 `XigmaNAS` 这一款，开个共享就有点折腾了，再复杂一点的要求就不敢多想了。

那为啥还要用它呢？

至少我个人觉得它是基于 `FreeBSD` 平台，稳定性够强，所以我还是坚持使用它。

最近有网友提问，是否可以设计实现如 Windows 下可将用户分为只读和可写权限的共享。

答案是肯定的。



虽然我之前没有专用试过，毕竟我只有一个人，共享就以单用户的方式使用着，不涉及将权限分类的情况。

不过我知道，通常共享是基于 `Samba` 协议，所以我特意查了一下资料，然后简单测试了一番，基本可以实现用户只读和可写分离的要求。

下面就将我测试的步骤分享出来。





菜单 `访问` > `用户和群组` ，点击右下的加号来新建用户。

图01



输入 `登录名` 、`全名` 和 `密码` 后，需要将 `主要群组` 设定为 `wheel` ，其他保持默认。

点击 `添加` 按钮后 `应用更改` 使设定生效。

图02



如法炮制，新建N个用户，比如我这儿的示例，新建了如下两个用户。

* user1    孔大力    可写权限
* user2    白小萌    只读权限



接下来设置共享。

菜单 `服务` > `SMB` ，点击 `分享区(Shares)` ，创建或编辑你想要设定的共享项。

图03



共有两处需要注意的地方，其他地方可根据实际情况自行调整。

一处是，勾选 `设为只读` 。

图04



另一处是，最下方 `附加参数` 中，添加如下参数。

`valid users` 指可有效访问共享的用户和群组，使用逗号分隔。

`write list` 指有可写权限的用户和群组。

```
valid users = user1, user2, @group1, @group2
write list = user1, @group1
```



如果按本文中的示例，孔大力和白小萌都是有效访问用户，但权限是孔大力可写，而白小萌只读。

那么可以写成这样。

```
valid users = user1, user2
write list = user1
```

图05



当然了，你完全可以将用户都放到一个群组中，然后在这里设定这个群组的只读或可写的权限即可。

设置完成后别忘记保存并应用更改。



最后你可以找两台电脑，分别使用前面不同的两个用户身份来登录尝试连接共享。

然后再看看他们的权限是否满足读写权限。

好了，其实挺简单的吧，完全可以实现 Windows 下那种使用场景了。









