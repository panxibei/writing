【快速全面掌握 WAMPServer】03.玩转安装和升级

副标题：【快速全面掌握 WAMPServer】03.玩转安装和升级

英文：master-wampserver-quickly-and-playing-installation-and-upgrade

关键字：wamp,wampserver,php,apache,mysql,mariadb,js,html



大多数情况我们在了解和学习任何一款软件之前都会先去尝试一下软件的安装，毕竟只有安装好了软件，再通过使用它来进一步学习和掌握。

那么同样的道理，我们要学习和掌握如何动手搭建 `PHP`  的调试环境，那么作为神器之一的 `WampServer` 的安装方法也是我们必须首先了解的。

不过对于不太熟悉 `WampServer` 的小伙伴们，特别是初次接触它的新手小白们，它的安装方法似乎多少显得有些凌乱和繁琐。

其实不用担心哈，欲善其工，必先利器，就像孙悟空对金箍棒的要求“再短些细些更妙”一样，作为一件兵器或工具，我们应该将它变得更加称手才有利于我们高效地使用它。

因此经过我的一番整理和提炼，`WampServer` 的安装方法也就变得更加简洁、清晰和明了了。

接下来我们就一起学习一下如何正确地安装 `WampServer` 吧，保证你对其印象深刻！



### 实验环境

* `Windows 10 [Version: 20H2] [Build: 19042.508] 64 Bits Edition`
* `WampServer 3.2.7 64bit`
  * `Apache 2.4.51`
  * `PHP 7.4.26 / 8.0.13 / 8.1.0`
  * `MySQL 5.7.36 / MariaDB 10.6.5`



### 下载所需安装包

在前面几篇文章中我们曾经介绍过几个 `WampServer` 相关的神秘网站，我们所需的安装包都来自这些网站。

其中包含最新的、比较齐全的组件安装包的网站基本上可以在下面这个链接上找到。

请注意哦，我们接下来的演示基本是基于这个网站的。

> https://wampserver.aviatechno.net/?lang=en



网站打开了，哇，好多下载啊，不可能都给它下载下来吧？

没错哈，如果我们只是安装最新版的 `WampServer` 呢，实际上只需要下载很少的几个安装包。

那我们需要哪些安装包呢？

**简单地说，就三种，第一个是 `VC++` 组件包，第二个是 `WampServer` 主程序包，第三个是补充升级包或语言包。**

其中第三种不是必须的，但如果需要最新版本，那还是要升级一下的。



实际我们需要下载的安装包如下：

* `all_vc_redist_x86_x64.zip`    # `WampServer` 需要的所有 `VC++` 组件安装包
* `check_vcredist.exe`    # 检查 `VC++` 包是否正确安装的宝物工具
* `wampserver3.2.6_x64.exe`    # `WampServer` 本尊，版本 `3.2.6`
* `wampserver3_x86_x64_update3.2.7.exe`    # `WampServer` 升级包，版本 `3.2.7`
* `wamp3_x86_x64_language.exe`    # 多国语言包，外文障碍者的福音



OK，我们开始行动吧！



1、我们打开前面说的下载网站，在页面的最底下定位到 `Visual C++ Redistribuable Packages` 区域，找到 `All VC Redistribuable Packages (x86_x64) (32 & 64bits)` 一项。

这是用于 `64`  位系统上的，如果是 `32` 位系统应该选择 `All VC Redistribuable Packages (x86) (32bits)` 一项下载。

下载获得文件 `all_vc_redist_x86_x64.zip` 。

图01



2、在下载页面中我们定位到 `Tools` 区域，找到 `Checks VC++ packages installed` 一项下载。

下载获得文件 `check_vcredist.exe` 。

图02



3、在下载页面中我们定位到 `Installers Wampserver full version` 区域，找到 `Wampserver 3.2.6 64 bit x64 - Apache 2.4.51 - PHP 5.6.40/7.4.26/8.0.13/8.1.0 - MySQL 5.7.36|8.0.27 - MariaDB 10.5.13|10.6.5 ` 一项下载。

同样，如果你的系统是 `32` 位的，那么应该选择上面一项下载。

下载获得文件 `wampserver3.2.6_x64.exe` 。

图03



4、在下载页面中我们定位到 `Installers Wampserver full version` 区域，找到 `Wampserver update 3.2.7` 一项和 `Language files` 一项，分别下载。

下载获得文件 `wampserver3_x86_x64_update3.2.7.exe` 和 `wamp3_x86_x64_language.exe` 。

图04



### 开始安装

##### 首先，我们安装 `VC++` 包，这是 `WampServer` 成功安装的前提条件。

将下载下来的 `all_vc_redist_x86_x64.zip` 解压缩，然后依次安装即可。

图05



各个组件的安装并没不遵循严格的顺序，一般从低版本到高版本这样安装即可。

图06

图07



在此友情提示一下，虽然官方已经尽大可能地压缩了这些组件包的数量，可是如果你真的挨个安装的话，少说也要等上一二十分钟，要是电脑再慢一点，那么小半个钟头就这么木有了，实在是费时费力啊！

更可怕的是，要是再漏掉哪个组件，还得从头再来，想想都糟心啊！

嗯，别担心哈，为此我自制了一个简单的批处理文件，只要将这个文件和组件包放在一起，然后执行这个文件就可以做到一键自动安装所有的组件包了。

不仅如此，还可以连带 `WampServer` 一起给安装上，有兴趣的小伙伴们可以试用一下。

在本文的后面一节内容中会和大家分享如何制作一键安装的方法，稍安勿躁哈！



##### 其次，Check 一下我们前面的组件是否都按要求正确安装完毕。

双击 `check_vcredist.exe` 启动检查工具。

图08



较新版本的检查工具会询问你是否使用 `PHP 5.3/5.4` ，通常我们是不用的，所以我们选择 `否(N)` 。

图09



好了，可以开始检查了，点击 `Check` 吧。

图10



从得出的结果我们可以看出有哪些组件没有被正确安装，后续找到对应的组件安装即可。

图11



直到安装并再次检查所需组件全部OK为止。

图12



从这里我们也能看出来，一个一个地安装这些组件挺繁琐的，因此我建议小伙伴们参考使用我前面介绍的一键安装批处理文件。



##### 再次，安装 `WampServer` 主程序。

双击 `wampserver3.2.6_x64.exe` 开始安装主程序。

图13



同意协议继续，如果有兴趣也可以阅读一下其中的内容。

图14



重要说明信息，里面罗列了很多安装 `WampServer` 所需要了解的信息，包括不要覆盖安装的提示等等。

如果你是初次安装，还是建议你认真读一下哦！

图15



选择安装路径，注意注意，不要安装在带有中文或特殊字符的路径中，建议可以选择诸如 `C:\wamp(64)` 或 `D:\wamp(64)` 之类的磁盘分区根目录中。

图16



选择你想要安装的组件，像 `PHP 7.3` 之前的版本已经过了生命周期，在实际生产环境是肯定不建议勾选的。

不过你要是有一些老旧程序是依赖旧版本的 `PHP` 的话，那么可以选择上，然后再安装完成后就可以做到自由切换版本了。

图17



这里有一个小问题，就是数据库的选择，比如对于 `MySQL` 来说，同一时间只能选择一个版本，要么 `5.7` 要么 `8.0` ，就看你的程序实际需要哪个了。

图18



选择开始菜单中的文件夹名称和快捷方式，通常默认即可。

图19



一切准备就绪，按下 `Install` 开始正式安装。

图20

图21



即使安装正式开始了，但是我们还不能完全放松，因为在此期间会有几个小问题需要询问用户，而我们必须做出应答才能继续并完全整个安装过程。

就像下面这个，询问我们是否需要选择其他的浏览器。

浏览器主要是用来调试我们程序代码的输出效果的，所以浏览器的选择比较重要。

不过通常我们选择 `否(N)` 来保持选择默认 `IE` 浏览器也是没问题的，因为这里的选择并不会对今后实际的使用产生影响。

图22



还有一个，它还会问我们是否需要选择其他的文本编辑器。

文本编辑器是用来写程序代码的，你如果有喜欢的编辑器自然就可以选择，但和选择浏览器一样，这个选择并不会对之后的使用产生影响，因此默认情况下我们选择 `否(N)` 继续即可。

图23



之后安装程序会继续安装并重启各个服务，期间我们需要耐心等待数分钟。

图24

图25



安装接近尾声，它会提示我们认真阅读之后可能用到的使用说明。

虽然这些是英文资料，不过不用担心，我们在后续的教程中会囊括这些内容，为大家详细讲解。

图26

图27



##### 再三，安装 `WampServer` 的更新程序。

注意，这个更新程序只是针对 `WampServer` 程序自身的，并不涉及 `Apache` 、 `PHP` 以及 `MySQL/MariaDB` 等具体组件。

关于这些组件的升级，我们会有专门的教程来讲解说明。



我们这里会将 `WampServer` 从 `3.2.6` 升级到 `3.2.7` 。

双击 `wampserver3_x86_x64_update3.2.7.exe` 开始安装更新程序。

图28



选择之前我们 `WampServer` 安装的路径。

图29



选择 `Wampmanager` 管理器菜单的颜色类型。

通常按默认的就行，至于出现这种选择的原因，是为了兼容较早的旧版本，最好与之前安装 `WampServer` 时的风格保持一致。

图30



准备就绪，按下 `Install` 开始安装吧。

图31



安装完成后我们可以看到新版本的更新日志。

图32



更新完毕，一切OK！

图33



##### 最后，安装语言包。

双击 `wamp3_x86_x64_language.exe` 开始安装语言包。

安装非常简单，选择正确的 `WampServer` 安装路径即可完成安装。

图34

图35

图36

图37



### 一键安装 `WampServer` 的制作方法

经过前面的介绍，我相信对于大家来说安装一点儿也不难对吧？

不过如果你想将 `WampServer` 快速地部署到多台系统中，那么很显然一个一个地去安装组件肯定是一件吃力不讨好的事情。

那么有没有一次性将所有这些组件自动完成安装的方法呢？

办法总比困难多，我们只要抓住问题本质就能轻松解决。



##### 首先，我们要让 `VC++` 组件能自动运行安装。

```
REM 2008版本，第一行卸载，第二行安装，q指静默，u指卸载
start /wait /b %~dp0\vcredist_2008_sp1_atl_x64.exe /qu
start /wait /b %~dp0\vcredist_2008_sp1_atl_x64.exe /q

REM 2010及以上版本，第一行卸载，第二行安装，passive指静默，uninstall指卸载
start /wait /b %~dp0\vcredist_2022_x64.exe /uninstall /passive
start /wait /b %~dp0\vcredist_2022_x64.exe /passive
```



##### 其次，我们要让 `WampServer` 安装包能够自动安装。

不同于前面的 `VC++` 组件，`WampServer` 安装包有它自有的安装参数。

我们在命令行状态下输入以下命令来获取安装参数。

```
REM 两行都可以获取安装参数
wampserver3.x.x_x64.exe /?
wampserver3.x.x_x64.exe /help
```

图38



有了参数，我们就可以写出自动安装的命令行来了。

比如最简单的，让其静默安装，但显示安装进度。

```
wampserver3.2.6_x64.exe /silent /suppressmsgboxes
```



同样，自动卸载也是非常简单。

```
C:\wamp64\unins000.exe /silent /suppressmsgboxes
```



##### 最后，升级包以及语言包也是大同小异。

其安装参数几乎与前者相同，拿来直接用就是了。

```
REM 自动安装升级包
wampserver3_x86_x64_update3.2.7.exe /silent /suppressmsgboxes

REM 自动安装多国语言包
wamp3_x86_x64_language.exe /silent /suppressmsgboxes
```



**效果演示：**

图39.GIF



**一键安装WampServer64位最新版 (668M)**

包含所有组件，即使手动安装也是可以的哦。

下载链接：https://pan.baidu.com/s/1oQLmnTTucZLnvryQpp0FWw

提取码：t886



使用方法，只需以管理员权限运行 `一键安装WampServer64位.bat` 这个批处理文件。

图40



### 查看并启动 `WampServer`

安装完成后，我们就可以在桌面上看到 `WampServer` 的图标，双击图标即可启动它。

图41



在启动它之前，我们先来简单地看一下它的目录结构。

如图所示，下面的那个 `wampmanager.exe` 就是桌面快捷方式的主启动程序了。

而那个 `www`  就是 `WampServer` 站点的主目录，也就是我们的网页程序放置的地方。

图42



好了，我来尝试启动它吧！

双击桌面快捷方式，经过几次黑色背景的命令行窗口的闪烁后，`WampServer` 成功启动了。

如果有至少一项服务未正常启动，那么右下角通知栏内的图标就会显示异常的颜色，而正常状态下应该是绿色的。

图43



最后我们来确认一下 `WampServer` 的版本。

右键点击图标，选择最上面的 `About` 。

图44



然后在出现的托盘菜单中选择右上角的 `Apps` 一项。

在其中我们可以很清楚地看到各应用的版本了。

图45

图46



### 教程小结

本节内容为小伙伴们介绍了如何安装 `WampServer` 以及部分应用升级的方法。

除最后一部分关于应用升级的内容之外，基本上我们按照前面三大步（ `VC++` 组件、主程序和升级包语言包）就可以获得一个较为完整的 `WampServer`  程序。

当然了，如果你已经有了旧版本程序，那么升级部分应用也是完全可行的，只需参考本文介绍的应用升级部分的内容。

如果你是一位新手，那么建议你多多练习几次安装方法，这样可以加深理解各程序组成部分的作用以及它们之间的联系。

好了，我们搞定了 `WampServer` 的安装，那么在下一节教程中，我们自然就要开始学习如何使用它。

敬请各位小伙伴们期待吧！





*PS：《【小白PHP入坑必备系列】快速全面掌握 WAMPServer》教程列表：*

* *【快速全面掌握 WAMPServer】01.初次见面，请多关照*
* *【快速全面掌握 WAMPServer】02.亲密接触之前你必须知道的事情*
* *【快速全面掌握 WAMPServer】03.玩转安装和升级*
* *【快速全面掌握 WAMPServer】04.人生初体验*
* *【快速全面掌握 WAMPServer】05.整明白 Apache*
* *【快速全面掌握 WAMPServer】06.整明白 MySQL 和 MariaDB*
* *【快速全面掌握 WAMPServer】07.整明白 PHP*
* *【快速全面掌握 WAMPServer】08.想玩多个站点，你必须了解虚拟主机的创建和使用*
* *【快速全面掌握 WAMPServer】09.如何在 WAMPServer 中安装 Composer*
* *【快速全面掌握 WAMPServer】10.HTTP2.0时代，让 WampServer 开启 SSL 吧！*
* *【快速全面掌握 WAMPServer】11.安装 PHP 扩展踩过的坑*
* *【快速全面掌握 WAMPServer】12.WAMPServer 故障排除经验大总结*
* *【快速全面掌握 WAMPServer】13.PHP调试麻烦？请 xDebug 来帮忙！*
* *【快速全面掌握 WAMPServer】14.各种组件的升级方法*



**扫码关注@网管小贾，阅读更多**

网管小贾的博客 / www.sysadm.cc