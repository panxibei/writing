【XigmaNAS 设置和用户指南】07.网页界面

副标题：

英文：

关键字：



## WebGUI 界面和设置

### 系统

1. 系统|一般
   1. [系统|常规设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:general_system_options&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [系统|通用|密码](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_general_password&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. 系统|高级
   1. [系统|高级](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [系统|高级|电子邮件](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_email&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. [系统|高级|电子邮件报告](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_email_reports&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   4. [系统|高级|监控](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_monitoring&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   5. [系统|高级|交换](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_swap&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   6. [系统|高级|命令脚本](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_command_scripts&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   7. [系统|高级|Cron](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_cron&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   8. [系统|高级|loader.conf](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_loader.conf&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   9. [系统|高级|rc.conf](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_rc.conf&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   10. [系统|高级|sysctl.conf](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_sysctl.conf&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   11. [系统|高级|syslog.conf](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_advanced_syslog.conf&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. [系统|固件](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_firmware_upgrade&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
4. [系统|备份/恢复](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_backup_restore&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
5. [系统|出厂默认值](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_factory_defaults&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
6. 系统|重启
   1. [系统|重启|现在](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_reboot_now&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [系统|重启|计划](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_reboot_scheduled&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
7. 系统|关机
   1. [系统|关机|现在](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_shutdown_now&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [系统|关机|预定](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:system_shutdown_scheduled&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
8. [系统|登出](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:logout&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 网络

1. 网络|接口管理
   1. [网络|接口管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:network_interface_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [网络|接口管理|VLAN](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:vlan&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. [网络|接口管理|链路聚合和故障转移](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:link_aggregation_and_failover&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. [网络|局域网管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:network_interface_lan&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. [网络|主机](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:network_hosts&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
4. [网络|静态路由](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:network_static_routes&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
5. [网络|代理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:network_proxy&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
6. [网络|防火墙](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:network_firewall&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 磁盘

1. 磁盘|管理
   1. [磁盘|管理|硬盘管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [磁盘|管理|硬盘格式](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:hdd_format&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. [磁盘|管理|SMART](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:smart&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   4. [磁盘|管理|iSCSI 启动器](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:iscsi_initiator&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. [磁盘|软件 RAID](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:software_raid&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t) （磁盘|软件 RAID|RAID1|管理）
   1. 磁盘|软件 RAID|JBOD
      1. [磁盘|软件 RAID|JBOD|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_jbod_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|软件 RAID|JBOD|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_jbod_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|软件 RAID|JBOD|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_jbod_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. 磁盘|软件 RAID|RAID0
      1. [磁盘|软件 RAID|RAID0|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid0_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|软件 RAID|RAID0|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid0_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|软件 RAID|RAID0|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid0_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. 磁盘|软件 RAID|RAID1
      1. [磁盘|软件 RAID|RAID1|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:software_raid_raid1_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|软件 RAID|RAID1|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid1_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|软件 RAID|RAID1|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid1_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   4. 磁盘|软件 RAID|RAID5
      1. [磁盘|软件 RAID|RAID5|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid5_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|软件 RAID|RAID5|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid5_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|软件 RAID|RAID5|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid5_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   5. 磁盘|软件 RAID|RAID 0/1/5
      1. [磁盘|软件 RAID|RAID 0/1/5|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid0_1_5_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|软件 RAID|RAID 0/1/5|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid0_1_5_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|软件 RAID|RAID 0/1/5|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid0_1_5_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. 磁盘|加密
   1. [磁盘|加密|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disk_encryption&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [磁盘|加密|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disk_encryption_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
4. [磁盘|ZFS](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:zfs&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t) （磁盘|ZFS|池|管理）
   1. 磁盘|ZFS|池
      1. [磁盘|ZFS|池|虚拟设备](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_pools_virtual_device&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|ZFS|池|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_pools_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|ZFS|池|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_pools_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      4. [磁盘|ZFS|池|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_pools_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      5. [磁盘|ZFS|池|I/O 统计信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_pools_i_o_statistics&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. 磁盘|ZFS|数据集
      1. [磁盘|ZFS|数据集|数据集](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_datasets_dataset&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|ZFS|数据集|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_datasets_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. 磁盘|ZFS|卷
      1. [磁盘|ZFS|卷|卷](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks-zfs-volumes-volume&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|ZFS|卷|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks-zfs-volumes-information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   4. 磁盘|ZFS|快照
      1. [磁盘|ZFS|快照|快照](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks-zfs-snapshots-snapshot&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|ZFS|快照|克隆](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks-zfs-snapshots-clone&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|ZFS|快照|自动快照](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks-zfs-snapshots-auto_snapshot&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      4. [磁盘|ZFS|快照|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks-zfs-snapshots-information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   5. 磁盘|ZFS|配置
      1. [磁盘|ZFS|配置|检测到](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_configuration_detected&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [磁盘|ZFS|配置|当前](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_configuration_current&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      3. [磁盘|ZFS|配置|同步](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_zfs_configuration_synchronize&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
5. [磁盘|格式化](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_format&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
6. 磁盘|安装点
   1. [磁盘|挂载点|管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:mount_point_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [磁盘|安装点|工具](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_mount_point_tools&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. [磁盘|挂载点|Fsck](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_mount_point_fsck&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 使用权

1. 访问|用户和组
   1. [访问|用户](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:user_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [访问|组](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:access_groups&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. [访问|活动目录](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:access_active_directory&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. [访问|LDAP](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:access_ldap&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 服务

[使用服务](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:using_services&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

1. 服务|HAST
2. [服务|HAST](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_hast&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   1. [服务|HAST|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_hast&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [服务|HAST|资源](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_hast&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. [服务|HAST|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_hast&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. [服务|Samba Active Directory 域控制器](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_samba_ad&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   1. [服务|Samba AD|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_samba_ad_settings&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [服务|Samba AD|初始化](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_samba_ad_initialize&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
4. 服务|CIFS/SMB
   1. [服务|CIFS/SMB|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_cifs_smb_samba&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [服务|CIFS/SMB|股票](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_cifs_smb_shares&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
5. 服务| FTP
   1. [服务|FTP|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:ftp-file_transfer_protocol&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [服务|FTP|模块](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_ftp_modules&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      1. [基本客户端配置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:basic_client_configuration&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      2. [安全 FTPES 配置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:secure_ftpes_configuration&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
6. [服务|TFTP](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_tftp&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   1. [测试和连接 TFTP](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:testing_connecting&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
7. [服务|SSH](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_ssh&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   1. [基本配置和连接](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:basic_configuration_connection&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [无密码和密钥认证](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:password-less_key_authentication&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   3. [安全 SFTP 配置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:secure_sftp_configuration&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
8. 服务|NFS
   1. [服务|NFS|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:nfs&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [服务|NFS|共享](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_nfs_shares&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
      1. [NFS 客户端](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:nfs_clients&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
9. 服务|法新社 (Netatalk)
   1. [服务|法新社|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:afp&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
10. [服务|RSYNC](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:rsync&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    1. [服务|RSYNC|服务器](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_rsync_server&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
       1. [服务|RSYNC|服务器|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_rsync_server_settings&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
       2. [服务|RSYNC|服务器|模块](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_rsync_server_modules&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    2. [服务|RSYNC|客户](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_rsync_client&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    3. [服务|RSYNC|本地](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_rsync_local&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
11. [服务|齐声](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:unison&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
12. 服务|iSCSI 目标
    1. [服务|iSCSI 目标|设置](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:iscsi_target_settings&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    2. [服务|iSCSI 目标|目标](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:iscsi_target_target&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    3. [服务|iSCSI 目标|门户组](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:iscsi_target_portal_group&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    4. [服务|iSCSI 目标|启动器组](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:iscsi_target_initiator_group&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    5. [服务|iSCSI 目标|身份验证组](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:iscsi_target_auth_group&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    6. [服务|iSCSI 目标|媒体](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:iscsi_target_media&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
13. 服务|DNLA/UPnP
    1. [服务|DNLA/UPnP Fuppes](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:upnp_dlna-fuppes&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
    2. [服务|DNLA/UPnP MiniDLNA](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:upnp_dlna-minidlna&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
14. [服务|动态 DNS](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_dynamic_dns&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
15. [服务|SNMP](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_snmp&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
16. [服务|UPS](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_ups&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
17. [服务|网络服务器](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_webserver&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
18. [服务|BitTorrent](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_bittorrent&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)（传输）
19. [服务|LCDproc](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:services_lcdproc&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 虚拟化

1. [虚拟化|虚拟盒子](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:virtualization_virtualbox&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 地位

1. [状态|系统](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:status_system&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. [状态|进程](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:status_processes&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. [状态|服务](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:status_services&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
4. [状态|接口](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:status_interfaces&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
5. [状态|磁盘](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:status_disks&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
6. [状态|监控](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:status_monitoring_monitoring&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 诊断

1. [诊断|日志](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:diagnostics_log&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. [诊断|信息](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:diagnostics_information&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. 诊断|Ping/Traceroute
   1. [诊断|Ping](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:diagnostics_ping&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
   2. [诊断|跟踪路由](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:diagnostics_traceroute&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
4. [诊断|ARP 表](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:diagnostics_arp_tables&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
5. [诊断|路由](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:diagnostics_routing_tables&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 工具

1. [工具|文件编辑器](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:tools_file_editor&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. [工具|文件管理器](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:tools_file_manager&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
3. [工具|执行命令](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:tools_command&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)

### 帮助

1. 帮助|论坛（链接到[https://www.xigmanas.com/forums/](https://hosteagle.club/forums/?__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)）
2. 帮助|信息和手册（链接到[https://www.xigmanas.com/wiki/](https://hosteagle.club/wiki/?__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)）
3. 帮助| IRC实时支持（链接到[https://webchat.freenode.net/?channels=#xigmanas](https://hosteagle.club/?channels=&__cpo=aHR0cHM6Ly93ZWJjaGF0LmZyZWVub2RlLm5ldA#xigmanas)）
4. 帮助|发布说明
5. 帮助|许可证和积分
6. 帮助|捐赠（链接到[贝宝捐赠选项](https://hosteagle.club/cgi-bin/webscr?cmd=_donations&business=info%40xigmanas.com&lc=US&item_name=XigmaNAS Project&no_note=0&currency_code=USD&bn=PP-DonationsBF%3abtn_donateCC_LG.gif%3aNonHostedGuest&__cpo=aHR0cHM6Ly93d3cucGF5cGFsLmNvbQ)）



# 一、系统

# 1.系统|常规

# 1.a 系统|常规设置



图b01



使用页面顶部的下拉导航菜单，在 XigmaNAS 徽标下方，单击“ **SYSTEM** ”，然后选择“ **GENERAL** ”。在此页面上，您可以为您的服务器配置和维护非常重要的设置。

## 主机名

图b02



 **主机名：让您设置**[DNS](https://hosteagle.club/wiki/Domain_Name_System?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)和 *nix 类型系统将看到的服务器名称 。
**域**：让您设置将由 [DNS](https://hosteagle.club/wiki/Domain_Name_System?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)使用的服务器名称的域部分。 



## DNS 设置



图b03



[XigmaNAS 需要DNS](https://hosteagle.club/wiki/Domain_Name_System?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)服务器设置才能按名称而不是[IP](https://hosteagle.club/wiki/Internet_Protocol?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)地址连接到 Internet 服务和服务器，例如 NTP 时间服务器或按名称 ping 其他网络设备。

在此页面上最多可以配置两个[DNS服务器。](https://hosteagle.club/wiki/Domain_Name_System?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)更改DNS设置 时不需要重新启动。

**[IPV4 ](https://hosteagle.club/wiki/IPv4?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)DNS服务器**：允许您设置两个DNS服务器的地址。通常您的[ISP](https://hosteagle.club/wiki/ISP?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)或网络管理员会向您提供这些信息。

**[IPV6 ](https://hosteagle.club/wiki/IPv6?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)DNS服务器**：允许您设置两个DNS服务器的地址。通常您的[ISP](https://hosteagle.club/wiki/ISP?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)或网络管理员会向您提供这些信息。



> 注意：
>
> **IPV4 DNS服务器**应始终可用于配置，因为默认情况下在 NAS4Free 中启用了 IPV4。除非您在LAN设置中启用了 IPV6，否则无法配置**IPV6 DNS服务器。**默认情况下不启用 IPV6。 



## 更改 WebGUI 访问默认设置

图b04



### WebGUI 用户名

**用户名**：这是登录 WebGUI 时需要输入的用户名。

> 默认用户名：admin
>
> 默认密码：xigmanas
>
> *更改 `WebGUI` 用户名***不会**修改系统 `root` 账户用户名。



### WebGUI 协议和端口

**协议**：这是我们的浏览器和 XigmaNAS 用于通信的方法，以便您可以访问 WebGUI。如果您在访问 WebGUI 时需要更高级别的安全性， 请使用下拉菜单将协议更改为 `HTTPS` 。

>  注：默认协议是 `HTTP` 。



**端口**：允许您更改访问 WebGUI 的默认端口。

您可以将 WebGUI 协议从端口 80 上的默认 HTTP 更改为端口 443 上的备用且更安全的 HTTPS。端口（80 或 443 均可配置）。

> 重要：
>
> 如果您还打算使用 `XigmaNAS` 网络服务器，请确保不要使用与 `WebGUI` 相同的端口。
>
> 当您更改 `WebGUI` 协议时，您必须重新启动 `XigmaNAS` 。



### 证书和私钥

**证书**：如果您使用 HTTPS 协议，XigmaNAS 会自动为您输入默认的[x.509 证书](https://hosteagle.club/wiki/X.509?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)。如果您想获得自己的证书，可以将其粘贴到此处。

**私钥**：如果您使用 HTTPS 协议，XigmaNAS 会自动为您输入一个默认的[RSA 私钥](https://hosteagle.club/wiki/RSA?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)。如果您想创建自己的私钥，可以将其粘贴到此处。

> 注：
>
> 这些设置仅在您使用 HTTPS 协议访问 WebGUI 时可用。他们需要提供安全保障。



### 主机允许

将此条目留空，将只允许从为LAN接口定义的子网进行连接。在大多数情况下，这是一种明智的安全预防措施。

对于来自该子网外部的连接，例如从 VPN 连接到 XigmaNAS 服务器，应在此处输入客户端的 IP 地址或客户端使用的子网。



### 语言

**语言**：使用下拉菜单选择 WebGUI 的首选语言。



## 日期和时间

图b05



**时区**：使用下拉菜单选择您的时区。

**系统时间**：用于手动设置系统日期和时间。您可以以正确的格式输入它或单击“**日历**”图标以图形方式进行。

**启用 NTP**：如果您希望 `XigmaNAS` 通过 `NTP` 自动更新其日期和时间，请单击该框。

**NTP 时间服务器**：`XigmaNAS` 默认使用 `pool.ntp.org` ，但您可以将其更改为您选择的任何有效的、附近的 `NTP` 服务器。

**时间更新间隔**：设置时间同步之间的分钟数。



> 注意：
>
> 如果未启用 `NTP` ，则 **`NTP` 时间服务器**和**时间更新间隔**设置将不可用。 



如果您希望更改生效，请记住在离开页面之前 单击“**保存”按钮。** 





# 1.b 系统|常规|密码设置

图b06



 此页面允许您更改 WebGUI 及其 root 帐户的密码。 

> 注意：
>
> 这两个帐户使用相同的默认密码：**xigmanas** 



要更改密码，请先输入旧密码，然后输入两次新密码。

完成后点击“保存”按钮使新密码生效。新密码立即生效。 



# 2.a 系统高级选项

图b07



 要查看或调整高级系统选项，请单击“**系统**”选项卡，然后选择“**高级**”。

系统**|高级设置**页面将打开，如下所示。

此页面上有几个选项卡可让您更改许多 XigmaNAS 设置。

下面简要介绍了一些选项卡，稍后将在设置和用户指南的本节中更详细地讨论每个选项卡。 

图b08



## 控制台菜单

此选项对于防止未经授权访问控制台菜单和 shell 很有用，请注意，如果启用此选项，则只有在按 Alt+F2/F3 后才能访问 shell。



## 控制台屏幕保护程序

启用此选项后，用户将能够指定在无输入活动期间控制台屏幕进入待机/空白模式之前的时间（以秒为单位）。



## 固件版本检查

固件版本检查在启用时会检查，当您在嵌入式系统安装中使用固件升级选项时，是否有更新的固件版本可供下载。



## 系统提示音

如果您的 XigmaNAS 服务器具有扬声器或音频功能，则 XigmaNAS 会在关闭和启动完成时向用户提供提示音。这些是为“无头”的 XigmaNAS 安装提供的，也就是说，没有屏幕或键盘连接到服务器。如上图所示，可以使用 System Beep 选项通过 System/Advanced 页面禁用音调。



## 内核调优

调整将允许高级用户调整一些 FreeBSD 内核参数。此选项将一些内核参数设置切换为备用值。正在选择（选中或取消选中（未选中）的 Tuning 选项的一些 Tuning 示例值显示在下表中。



| 未选中调整                       | 调整检查                         |
| :------------------------------- | :------------------------------- |
| net.inet.tcp.delayed_ack：1      | net.inet.tcp.delayed_ack=0       |
| net.inet.tcp.sendspace：32768    | net.inet.tcp.sendspace=65536     |
| net.inet.tcp.recvspace：65536    | net.inet.tcp.recvspace=65536     |
| net.inet.udp.recvspace：42080    | net.inet.udp.recvspace=65536     |
| net.inet.udp.maxdgram：9216      | net.inet.udp.maxdgram=57344      |
| net.local.stream.recvspace：8192 | net.local.stream.recvspace=65535 |
| net.local.stream.sendspace：8192 | net.local.stream.sendspace=65535 |
| kern.ipc.maxsockbuf：262144      | kern.ipc.maxsockbuf=2097152      |
| 内核.ipc.somaxconn：128          | kern.ipc.somaxconn=8192          |
| 内核.ipc.maxsockets：3072        | kern.ipc.maxsockets=16424        |
| kern.ipc.nmbclusters: 3072       | kern.ipc.nmbclusters=60000       |
| 内核.maxfiles：1064              | kern.maxfiles=65536              |
| 内核.maxfilesperproc：957        | kern.maxfilesperproc=32768       |

在进行一些基准比较之前，请尝试启用此选项。



## 电源守护程序

**Power Daemon** 和**Power Mode**选项配置 FreeBSD powerd [Daemon](https://hosteagle.club/cgi/man.cgi?query=powerd&__cpo=aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmc)。

根据 powerd wiki 页面：

> powerd 实用程序监控系统状态并相应地设置各种电源控制选项。它提供省电模式，可以单独选择使用交流电源或电池进行操作。 



 关于电源模式： 

> ```
> 最大值 选择最高性能值。可以简写为
> 	 最大限度。
> ```
>
> ```
> minimum 选择最低的性能值以获得最大的
> 	 节能效果。可缩写为 min。
> ```
>
> ```
> 自适应 尝试通过在系统出现空闲时降低性能并在系统
> 	 繁忙时提高   性能来达到平衡。
> 	 它在较小的性能损失与大大提高节能之间提供了良好的平衡。可以缩写
> 	 为adp。
> ```
>
> ```
> hiadaptive 与自适应模式类似，但针对性能
> 	 和交互性比功耗更重要的系统进行了调整。
> 	 它提高频率的速度更快，降低频率的力度较小
> 	 ，并且将保持全频率的时间更长。可以
> 	 缩写为hadp。
> ```



## `ZeroConf/Bonjour mDNS`

关于 `ZeroConf` ：

默认情况下，`XigmaNAS` 将使用 `Zeroconf` 协议宣布此可用服务（多播）。

这将允许其他计算机检测到有提供 `FTP` 、`SSH` 、`SAMBA` 、`AFP` 等的计算机服务。

`Zeroconf/Bonjour` 被 `Apple` 计算机和较新的 Linux 发行版使用。





# 2.b 系统高级电子邮件

XigmaNAS 支持电子邮件通知。编辑所有必要设置后，您可以发送包含当前系统状态的电子邮件报告。如果硬盘驱动器发生故障，它也可以通知您。请输入您的电子邮件提供商提供的登录设置。

图b09



上面的屏幕截图显示了如何通过 Gmail 发送电子邮件的示例。



## 2.c 系统高级电子邮件报告

在此页面上，您可以设置电子邮件报告，这些报告将在给定时间发送到任何指定的电子邮件地址。

图b10



## 2.d 系统|高级|监控

在此页面上系统 > 高级 > 监控设置：您可以设置更详细的系统图表。这些图表将显示在您可以在菜单状态 > 监控中找到的选项卡中。

图b11



> 请注意，启用此功能后，最多需要 10 分钟才能获得图表中的第一个统计信息，而这些统计信息每 5 分钟更新一次。 



 下面是设置后的选项卡概览和状态 > 监控中的 CPU 频率图形示例： 

图b12



- CPU 频率：收集一段时间内的 CPU 频率。
- CPU 温度：收集一段时间内的 CPU 温度。
- CPU使用率：收集CPU在执行用户代码、执行系统代码、空闲等各种状态所花费的时间。
- 平均负载：收集 1、5 和 15 分钟平均值的系统利用率概览。
- 磁盘使用情况：收集安装点/共享上使用的数据。
- 内存使用情况：收集一段时间内的物理内存使用情况。
- 网络流量：收集每个已配置接口的接收和传输流量
- UPS：采集UPS的各种状态，可显示电压。
- 正常运行时间：收集系统正常运行时间、平均运行时间和达到的最大正常运行时间。
- ZFS ARC：收集一段时间内的 ARC 大小、命中率和请求。



# 2.e 系统高级交换

RAM 和交换文件的组合称为虚拟内存。使用虚拟内存可以让您的计算机运行比单独在 RAM 上运行更多的程序。根据您的安装方法，XigmaNAS 可能会要求您创建交换分区。如果您不创建交换分区（例如在嵌入式 USB/CF 安装上），您现在可以在其中一个存储设备上选择一个完整的驱动器或单个文件。一个好的大小是 RAM 的 150%。在大多数情况下，一个 1GB 的交换文件就足够了。

图b13



# 2.f 系统高级命令脚本

命令脚本用于执行命令

- PreInit - 初始化内核后
- PostInit - 启动所有服务后
- 关闭 - 关闭 XigmaNAS 之前

此功能适用于高级用户。您的 XigmaNAS 服务器的日常工作不需要它。

屏幕截图上的示例将所有日志文件复制到 /mnt/data/log-date

图b14



单击加号 `+` 图标以创建新命令。

单击扳手图标以管理现有命令。

图b15



其他示例：

**命令：**

```
fsck_ufs -y /dev/da1
```

**类型：**

```
Shutdown
```



这将在系统关闭之前对给定的驱动器进行文件系统检查。





# 2.g 系统高级 Cron

在类 Unix 操作系统上，基于时间的调度程序称为“Cron”。

使用 Cron，您的 XigmaNAS 服务器可以在给定时间运行命令或脚本。预定的命令或脚本称为“Cron 作业”。“Cron 作业”以固定的时间间隔运行，例如每天、每周、每月或每年一次。

图b16



单击加号 `+` 图标以创建新的 `Cron` 作业。

单击扳手图标以管理现有的 `Cron` 作业。



图b17



上面的屏幕截图应该给你一个例子。屏幕截图显示了如何添加每周日晚上 3:00 运行的“Cron 作业”。这个无用的作业在 /dev/ada0 上执行只读文件系统检查，并将结果附加到 /mnt/data/fsck-log。

需要以下参数。

- **命令**- 要执行的命令。
- **Who** - 选择应该运行此命令的用户。
- **说明**- 输入说明供您参考。
- **计划时间**- 选择命令的时间间隔。

- 单击右上角的“**启用**”框可根据需要禁用或启用该服务。
- 单击“**添加**”按钮以保存新创建的“Cron Job”。
- 单击“**保存**”按钮以保存对现有 Cron 作业所做的更改。
- 单击“立即**运行**”按钮立即运行“Cron 作业”。一条消息将出现在菜单选项卡下方，指示成功或失败。
- 单击“**取消**”按钮放弃所有更改。



> 您会在 WebGUI 中找到几个 Cron Jobs 使用的页面。
>
> - 系统 > 关机 > 预定
> - 系统 > 重启 > 计划
> - 系统 > 高级 > 电子邮件报告设置
> - 服务 > Rsync > 本地 > 添加
> - 磁盘 > ZFS > 快照 > 自动快照



# 2.h 系统高级loader.conf

在 loader.conf 页面上，我们可以配置引导加载程序和初始内核设置，它允许我们在服务器引导时加载其他模块，或者设置/调整一些系统变量。

图b18



单击加号 `+` 图标以创建新的 `Cron` 作业。

单击扳手图标以管理现有的 `Cron` 作业。



图b19



# 2.i 系统高级 rc.conf

文件 rc.conf 包含有关本地主机名、任何潜在网络接口的配置详细信息以及应在系统初始引导时启动哪些服务的描述性信息。在大多数 NAS4Free 服务器上，您根本不需要编辑此页面设置。

图b20



单击加号 `+` 图标以创建条目。

单击扳手图标以管理现有条目。

以下示例添加条目“local_startup”，其中包括启动脚本的备用路径。

图b21



# 2.j 系统高级 sysctl.conf

图b22



> 这是高级用户的功能。
>
> 仅当您知道自己在做什么时才更改设置！



您可以在此处将设置添加到您的 /etc/sysctl.conf。
当系统进入多用户模式时会读入 /etc/sysctl.conf 文件以设置内核的默认设置。

如果您在系统 | 下启用“调整” 高级，XigmaNAS 启用其中一些设置来调整您的 XigmaNAS 服务器。

以下示例将
kern.logsigexit=0 添加到 /etc/sysctl.conf
结果是禁用了致命信号退出（例如 sig 11）的日志记录。

在下面的屏幕截图中，我们看到添加了 vfs.zfs.vdev.scrub_min_active



图b23

图b24



# 2.k 系统高级 syslog.conf

 我的调试设置概述 

图b25







# 3. 系统固件升级

## 升级建议

- 在进行升级之前，请务必保存配置文件的备份。
- 如果您的 XigmaNAS 服务器的 RAM 小于 384MB，请勿使用嵌入式固件升级。
- 如果固件升级因“管道损坏”或挂载/卸载相关错误而失败，唯一的解决方案是从头开始重新安装，这将删除OS磁盘上的所有数据。



> - 512MB RAM 是升级任何嵌入式 XigmaNAS 版本的最低系统要求。
> - 建议使用更多 RAM 以获得更好的系统性能。



## 备份配置

首先，在闪存之前备份系统配置是明智之举，但您的安全性还是不够的。

1. 导航到系统 > 备份/恢复页面
2. 在备份配置区域，单击“下载配置”按钮
3. 当您的计算机提示时，选择保存，然后在您的计算机上选择 __cpLocation 以保存配置文件



图b26



 注意：不要将 XigmaNAS 配置文件存储在服务器存储中，请将其保存在其他安全的地方！ 

图b27



## 执行嵌入式升级

导航到系统：固件页面，然后单击*启用固件上传*按钮。

图b28



单击*浏览*按钮（荷兰系统上的 Bladeren）并导航到您存储先前下载的 .IMG.XZ 文件的位置。

> 这不是你刚刚保存的备份xml文件；这是来自 Sourceforge 或 XigmaNAS 网站的 .IMG 文件（用于嵌入式版本）或 .TXZ 文件（用于完整版本）。请勿在此处使用 ISO 文件！！！



文件出现在固件映像文件窗口中后，单击升级固件按钮。

一条消息将指示正在执行升级安装，并且一旦完成，XigmaNAS 将重新启动：“正在安装固件。XigmaNAS 将自动重启。”

重启完成后，您可以重新登录到 XigmaNAS WebGUI。

注意：如果由于某种原因您无法连接到 XigmaNAS，请将屏幕连接到您的 XigmaNAS 服务器（如果尚未连接）并使用控制台菜单验证网络设置。有可能随着新版本的发布，您的LAN卡的名称发生了变化（例如 FreeBSD 新的 NIC 驱动程序），当然这种情况很少发生。



## 验证 XigmaNAS 配置

升级过程可以升级配置文件。它应该可以正常工作，但最好验证您的设置。浏览到您的 XigmaNAS 中的几个屏幕，并验证网络和磁盘配置等项目是否仍像您之前配置的那样配置。



# 4. 系统备份/恢复

图b29



此页面允许您备份当前配置文件或恢复以前备份的配置。

## 备份配置

单击“**备份配置**”按钮将配置文件的副本从服务器下载到本地硬盘驱动器。该文件将自动以当前时间戳命名，以便您在保存多个备份时轻松识别哪个文件是最新的。



图b30



您将看到一个确认窗口；[![img](https://www.xigmanas.com/wiki/lib/exe/fetch.php?media=wiki:setup_and_user_guide_sys_bkup_conf.png)](https://hosteagle.club/wiki/lib/exe/detail.php?id=documentation%3Asetup_and_user_guide%3Asystem_backup_restore&media=wiki:setup_and_user_guide_sys_bkup_conf.png&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)单击“**保存文件**”按钮继续。将弹出一个标准文件选择窗口，让您有机会更改名称（如果需要）并选择保存文件的 __cpLocation。

> 提示 - 不要将配置文件备份保存在您的 XigmaNAS 服务器上，将它们保存在您可以找到它们的位置，即使服务器没有运行。



我们还建议将配置文件加密存储。如果您在新安装的服务器上恢复它，请先在系统 > 常规设置中设置 XigmaNAS 用户名和密码，然后再恢复配置，以便此帐户与服务器配置备份匹配。



## 恢复配置

单击“**浏览**”按钮选择以前备份的配置文件以恢复到您的 XigmaNAS 服务器。将弹出一个标准文件选择窗口，允许您选择要恢复的文件。选择文件后，单击“**恢复配置**”按钮将其恢复。备份的配置将上传到服务器，服务器将立即重新启动。

> 重要：
>
> 不建议您将配置从较新版本的 XigmaNAS 恢复到较旧版本，不要这样做！





## 5. 系统出厂默认值

如果由于某种原因您想清除系统配置或重新完成服务器设置，您可以将系统重置为出厂默认设置，就像首次安装后一样。

单击菜单 System > Factory Defaults 以加载此页面：

图b31



 单击此页面上的“**是**”按钮将删除您的配置文件并将其恢复为用于新安装系统的 XigmaNAS 默认值。 



# 6.系统重启

## a. 立即重启系统

菜单 System > Reboot 将加载此页面：

图b32



 此页面用于立即重启您的 XigmaNAS 服务器。只需单击“是”按钮，您的服务器就会重新启动。 

图b33



## b. 系统重启计划

Menu System > Reboot & tab Scheduled 将加载此页面：

图b34



此页面用于在预定时间重新启动服务器。

- “**启用**”
  - 单击以在此框中打勾并启用调度程序。
- “**全部**”
  - 单击这些单选按钮可选择一个部分中的所有项目。
- “**选择**”
  - 单击这些单选按钮可对部分中的项目进行任意选择。您可以 Ctrl+单击进行多项选择。

完成设置计划后，单击“**保存**”按钮更新您的配置。在上图中，服务器将在 4 月的每个星期一和星期三在每小时后 30 分钟重新启动。



# 7. 系统关机

## a. 立即关闭系统

菜单系统 > 关机将加载此页面：

图b35



 此页面用于立即关闭您的 XigmaNAS 服务器。只需单击“**是**”按钮，您的服务器就会关闭。 



## b. 系统关机计划

此页面即将通过预定的关闭在您的服务器上使用关闭。某些用户使用此功能在特定时间或日期自动关闭服务器。

图b36



- “**启用**”
  - 单击以在此框中打勾并启用调度程序。
- “**全部**”
  - 单击这些单选按钮可选择一个部分中的所有项目。
- “**选择**”
  - 单击这些单选按钮可对部分中的项目进行任意选择。您可以 Ctrl+单击进行多项选择。

完成设置计划后，单击“保存”按钮更新您的配置。在上图中，服务器将在每个月的每一天的每周日、周二和周四凌晨 1:01 关闭。



# 8.系统登出

## 登出

图b37



 要立即退出 WebGUI，请使用页面顶部的下拉导航菜单，在 XigmaNAS 徽标下方，单击“ **SYSTEM** ”，然后选择“ **LOGOUT** ”。 





# 二、网络

 1.网络|接口管理 

# 1.a 接口管理

XigmaNAS 支持使用多个网络接口卡 (NIC)。下面的示例显示了具有两个 NIC 的设置。添加 NIC 后，您应该重新启动 XigmaNAS。默认 NIC 称为LAN，而所有其他 NIC 称为 OPT1、OPT2 等。使用下拉菜单，您可以更改 NIC 的顺序。在下面的示例中，请注意 2 个连接的 NIC，分别称为 em0 和 nfe0。'em' 和 'nfe' 指的是用于 NIC 的驱动程序，在这种情况下，'em' 用于 Intel，'nfe' 用于 NVIDIA 卡。每个端口的 MAC 地址也会显示出来。

图c01



## 1.b 接口管理 VLAN

虚拟局域网、虚拟LAN或 VLAN 是一组具有共同要求的主机，它们的通信就像它们连接到同一个广播域一样，而不管它们的物理 __cpLocation 是什么。VLAN 具有与物理局域网 ( LAN )相同的属性，但允许将终端站组合在一起，即使不在同一个网络交换机上也是如此。

另请参阅：Wikipedia.org 上的 虚拟 LAN

图c02



 上图：添加板载 NIC。 

图c03



 上图：现在板载网卡和英特尔网卡都已添加。 



# 1.c 链路聚合和故障转移

XigmaNAS 支持不同的链路聚合和故障转移设置。

图c04



 这是高级用户的主题。这里我们参考FreeBSD 项目的[lagg 手册页](https://hosteagle.club/cgi/man.cgi?query=lagg&apropos=0&sektion=0&manpath=FreeBSD+11.2-RELEASE+and+Ports&arch=default&format=html&__cpo=aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmc)。
另请参阅：Wikipedia.org 上的
[链接聚合](https://hosteagle.club/wiki/Link_aggregation?__cpo=aHR0cDovL2VuLndpa2lwZWRpYS5vcmc) 



```
 故障转移 仅通过活动端口发送流量。如果主
	  端口变得不可用，使用下一个活动端口。这
	  添加的第一个接口是主端口；任何接口
	  之后添加的用作故障转移设备。
```



```
 lacp 支持 IEEE 802.1AX（以前的 802.3ad）链路 Aggrega-
	  控制协议（LACP）和标记协议。LACP
	  将与对等方协商一组可聚合链接
	  一个或多个链接聚合组。每个 LAG 由
	  相同速度的端口，设置为全双工操作。这
	  流量将在 LAG 中的端口之间通过
	  最大的总速度，在大多数情况下只有
	  一个包含所有端口的 LAG。发生变化时
	  在物理连接中，链路聚合将迅速CON-
	  接近新的配置。
```



```
loadbalance 根据活动端口平衡传出流量
	  散列协议头信息并接受传入
	  来自任何活动端口的流量。这是一个静态设置，并且
	  不与对等方或交换协商聚合
	  帧来监控链接。哈希包括以太网
	  源地址和目标地址，以及 VLAN（如果可用）
	  标记，以及 IP 源和目标地址。
```



```
roundrobin 使用循环调度程序分配传出流量
	  通过所有活动端口并接受来自
	  任何活动端口。使用循环模式会导致无序
	  数据包到达客户端。吞吐量可能会受到限制
	  当客户端执行 CPU 密集型数据包重新排序时。
```



```
无 此协议旨在什么都不做：它禁用任何
	  流量而不禁用滞后接口本身。
```



# 2.网络设置

以下附加网络配置对于 XigmaNAS 的操作不是必需的，但在某些网络配置中可能需要。

## 以太网接口属性

要配置高级接口属性，请转到网络LAN管理页面：

图c05



在此页面上，您可以配置 IP 寻址类型：DHCP 或静态。注意：如果您使用 DHCP，网关将由您的 DHCP 服务器提供。*如果您不使用 DHCP，则必须手动设置网关*，这应该在控制台的初始服务器配置期间完成。在这两种情况下（静态或 DHCP），您都必须手动 设置DNS 。

MTU 大小：对于启用巨型帧支持很有用（如果您的 NIC 支持它）。您可以从这个网站（FreeBSD 手册页）检查您的 NIC 卡是否支持巨型帧： [http://www.freebsd.org/cgi/man.cgi](https://hosteagle.club/cgi/man.cgi?__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) 只需输入您的接口名称（进入接口：分配页面以显示您的卡名称：例如 fxp）。



## 额外的以太网接口

除了LAN接口之外，如果需要，还可以定义其他以太网接口。这可以是有线以太网接口或无线接口。有关无线LAN接口的更多信息，请参见第 5.2.3 节。

附加接口可用于管理 XigmaNAS 或访问共享，因此它可以成为 XigmaNAS 的有用冗余接口，可用于任一功能。

附加的以太网接口可以位于现有LAN子网中，也可以位于完全不同的子网中，具体取决于您的网络配置。如果附加接口与LAN接口位于不同的子网上，则可能需要附加静态路由来促进与其他子网的连接，例如，其他子网的网关和更远的地方。

在向 XigmaNAS 添加额外的以太网接口之前，请确保在启动 XigmaNAS 时安装了额外的接口。

要添加其他接口，请转到接口（分配）页面。如果您的附加以太网接口被识别，您将[![img](https://www.xigmanas.com/wiki/lib/exe/fetch.php?media=wiki:documentation_setup_and_user_guide_basic.add.gif)](https://hosteagle.club/wiki/lib/exe/detail.php?id=documentation%3Asetup_and_user_guide%3Anetwork_interface_lan&media=wiki:documentation_setup_and_user_guide_basic.add.gif&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t) 在标准显示屏旁边看到一个，如下所示。如果[![img](https://www.xigmanas.com/wiki/lib/exe/fetch.php?media=wiki:documentation_setup_and_user_guide_basic.add.gif)](https://hosteagle.club/wiki/lib/exe/detail.php?id=documentation%3Asetup_and_user_guide%3Anetwork_interface_lan&media=wiki:documentation_setup_and_user_guide_basic.add.gif&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)此显示屏上没有 ，则说明您的界面未正确安装或 XigmaNAS 无法识别。



图c06



 单击加号 `+` 以添加名为 OPT1 的附加接口。 

图c07



OPT1 是接口的默认名称，可以自定义。配置 OPT1 后，您会注意到 Interfaces (assign) 下的一个附加级别，称为 OPT1。

单击保存并重新启动 XigmaNAS 以确保识别附加接口。您可以通过诊断/重启系统页面重启 XigmaNAS。

一旦 XigmaNAS 再次运行，您可以配置 OPT1 接口并将其重命名为与您的网络更相关的名称。

如下图所示，点击 Enable Optional 1 interface 复选框。

- 输入接口的描述。
- 输入接口的 IP 地址和子网，然后单击保存。
- 如果需要/想要更改 MTU 大小。我们建议将此留空，除非您知道自己在做什么并且需要更改 MTU 大小。
- 导航树中的这个新接口名称和其他显示（如 ping/traceroute 等）将被更新。

不需要重新启动。

图c08



关于附加接口的安全说明：XigmaNAS 不提供以太网接口之间的任何路由，因此应限制通过 XigmaNAS “加入”两个网络的任何潜在安全风险。但是，存储在 XigmaNAS 上的病毒感染文件始终有可能从任一网络访问，因此，当前和最新的防病毒应用程序能够随时扫描存储在 XigmaNAS 上的所有文件非常重要到时间。不是病毒从一个网络“跳跃”到另一个网络的情况，一个网络上的用户更有可能将文件保存在 XigmaNAS 上，然后由另一个网络上的另一个用户访问。



## 静态路由

在大多数LAN环境中，将使用单个LAN接口（LAN接口），其默认网关将为其他网络提供接口。如果在 XigmaNAS 中配置了多个LAN接口，则在 XigmaNAS 中可能需要额外的静态路由以允许到其他网络的网络流量。注意：通常不需要此配置，除非您必须通过另一个子网引导来自一个子网的流量。

在下面的示例中，接口“LAN”的 IP 地址为 192.168.80.130，其默认网关为 192.168.80.254，即我的 Internet 路由器。我有另一个本地地址为 192.168.80.2 的路由器连接到另一个网络（10.1.1.0/24）。为了让 XigmaNAS 将流量引导到 10.1.1.0/24 网络，配置了一个静态路由，通过LAN NIC 将任何 10.1.1.0/24 流量引导到 192.168.80.2（本地路由器到其远程网络）。

图c09



# 3.主机

此页面允许您将已知 IP 地址添加到[主机文件](https://hosteagle.club/wiki/Host_file?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)并限制/允许访问特定服务。

图c10



单击加号 `+` 图标以创建条目。

单击扳手图标以管理现有条目。



图c11



# 4.网络|静态路由

本主题适用于高级用户。通常大多数 XigmaNAS 安装都不需要它。

FreeBSD 手册对“静态路由”的描述如下：

```
For one machine to be able to find another over a network, there must be a mechanism in place to describe how to get from one to the other. This is called routing. A “route” is a defined pair of addresses: a “destination” and a “gateway”. The pair indicates that if you are trying to get to this destination, communicate through this gateway.
```

有关“静态路由”的更多信息，请参阅 [FreeBSD 手册 - 第 31 章高级网络](https://hosteagle.club/doc/en/books/handbook/network-routing.html?__cpo=aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmc)



> ***使用示例：***
>
> ***为什么？***
>
> 这使我有可能在其他网络上使用服务。例如，目前我已经通过 iscsi 从另一个盒子安装了一个硬盘来扩展我的存储空间。
>
> 此外，其他 Internet 连接速度更快，因此我可以更快地下载文件。在我的例子中，XigmaNAS 盒子用于下载和共享病毒定义、FreeBSD 源和端口树以及其他一些东西。



 如您所见，您可以从这里管理路线： 

图c12



单击加号 `+` 图标以创建条目。

单击扳手图标以管理现有条目。



图c13



# 5.网络代理

代理服务器，也称为“代理”或“应用程序级网关”，是充当本地网络（例如，一个公司或一个建筑物中的所有计算机）和更大规模网络之间的网关的计算机比如互联网。

代理服务器提供更高的性能和安全性。

图c14



 输入本地管理员提供的地址、用户名和密码。 



# 6.网络|防火墙

此页面允许您允许或拒绝某些端口上的服务器流量。

图c15



 您还可以导出或导入防火墙规则。 

>  请注意，阻止您的 WebGUI 端口会将您锁定在 XigmaNAS WebGUI 管理页面之外。 



 以下是您可以调整的选项的概述： 

图c16





# 三、磁盘

1.磁盘|管理

# 磁盘|管理|硬盘管理

菜单磁盘 > 管理将加载此页面：

图c17



在这里我们可以管理系统盘

## 磁盘|管理|磁盘|添加



图c18



# 其他资源：

- [设置驱动器](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:setup_drives&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
- [硬盘参数](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:hard_drive_parameters&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)



### 设置驱动器

必须先添加磁盘，然后才能在 RAID 阵列中对其进行格式化和装载或配置。

理想情况下，您希望在 XigmaNAS 中配置的所有磁盘都应在 XigmaNAS 启动时连接，尽管在 XigmaNAS 运行后可能会连接外部 USB 驱动器。

> 一旦安装在 XigmaNAS 中，请勿移除 USB 驱动器，否则可能会重新启动。



在 XigmaNAS 中配置可见共享的高级流程是：

1. 添加磁盘
2. 在 UFS 文件系统中格式化磁盘（如果需要）
3. 添加挂载点
4. 启用服务（CIFS、FTP等）

要删除磁盘，您必须先删除挂载点，然后再删除磁盘。

> 请确保在尝试在任何 RAID 配置中配置磁盘之前添加磁盘并测试每个磁盘。



## 添加磁盘或 CD/DVD 驱动器

要添加磁盘，请打开磁盘/管理页面并单击加号 `+` 显示区域右侧的。

图c19



 在下拉列表中，选择一个磁盘驱动器。在本例中，我们将选择 ada1。 

图c20



>  **对于 USB 或紧凑型闪存安装（参考第 3.2 节）不要添加 XigmaNAS 引导驱动器**（在本例中为 ad0）然后不能作为共享访问。（在本例中 ad0 是 XigmaNAS 引导驱动器） 



>  仅当您需要利用 XigmaNAS 省电配置时，才可以添加引导硬盘驱动器。 



**对于两个分区硬盘驱动器安装**，您希望在 XigmaNAS 和存储之间共享单个硬盘驱动器的容量，您可以添加 XigmaNAS 引导驱动器（本例中为 ada0）

有关硬盘待机时间、高级电源管理和声级设置的信息，请参阅第 5.4 节。目前，将这些保留为默认值。

对于“Preformatted FS”：将其保留为新磁盘的默认值，或将其设置为 NTFS/EXT2 或 FAT32 用于现有磁盘。无论如何，这是一个不影响 XigmaNAS 行为的信息字段。

单击添加按钮。根据需要继续添加其他磁盘。磁盘应出现在表中，状态应显示为**ONLINE**，如下图所示。



图c21



单击*应用更改*按钮，如果成功，将显示以下消息。

## 格式化磁盘

> 如果您有一个现有磁盘，上面有现有数据 - 不要格式化磁盘，它将擦除所有数据。如果您有要清理并格式化以进行读/写访问的磁盘，请初始化该磁盘，如下所述。
>
> 对于两个分区硬盘驱动器安装，您希望在 XigmaNAS 和存储之间共享单个硬盘驱动器的容量，您不必格式化磁盘，这已经在控制台设置中为您完成。存储分区已格式化为 UFS。



 单击“磁盘/格式”页面和下拉菜单；选择要格式化的驱动器。 

图c22



>  只有您添加的磁盘才会出现在下拉列表中 



在本例中，我们将使用本机 FreeBSD UFS 文件系统配置磁盘以供正常使用。

将文件系统设置保留为***UFS（GPT 和软更新）\***并将最小可用空间保留为默认值。

在“显示”区域中，应显示类似于以下内容的信息。根据您的情况，数据量和内容会有所不同。



```
Erasing MBR and all partitions.
Destroying old GPT information:
Creating GPT partition:
/dev/ada1p1 added
Creating filesystem with 'Soft Updates':
/dev/ad1ap1: 100.0MB (204732 sectors) block size 16384, fragment size 2048
	using 4 cylinder groups of 25.00MB, 1600 blks, 3200 inodes.
	with soft updates
super-block backups (for fsck -b #) at:
 160, 376512, 752864, 1129216, 1505568, 1881920, 2258272, 2634624, 3010976,
 3387328, 3763680, 4140032, 4516384, 4892736, 5269088, 5645440, 6021792,
 6398144, 6774496, 7150848, 7527200, 7903552, 8279904, 8656256, 9032608,
 9408960, 9785312, 10161664, 10538016, 10914368, 11290720, 11667072, 12043424,
 12419776, 12796128, 13172480, 13548832, 13925184, 14301536, 14677888,

			<= TEXT REMOVED =>
 
 813296832, 813673184, 814049536, 814425888, 814802240, 815178592, 815554944,
 815931296, 816307648, 816684000, 817060352, 817436704, 817813056, 818189408,
 818565760, 818942112, 819318464, 819694816, 820071168, 820447520, 820823872,
1045506016, 1045882368, 1046258720, 1046635072, 1047011424, 1047387776,
 1047764128, 1048140480, 1048516832
Done!
```



 如果您之前添加了其他磁盘，则如果需要，请选择其他磁盘并格式化它们。 

>  格式化硬件 RAID 可能需要您选择：“不要擦除 MBR”（某些硬件 RAID 控制器将信息存储在磁盘 MBR 上） 



## 挂载磁盘

格式化磁盘后，需要先挂载它才能使用。转到 Disks/Mount Point 页面并单击加号 `+` 右侧的 并在 Disk 下拉列表中，选择您之前添加并格式化的驱动器（本例中为 Raid5）。



图c23



| **分割**        | 描述                                                         |
| :-------------- | :----------------------------------------------------------- |
| 电喷 GPT        | 这是初始化驱动器时默认的 XigmaNAS 方法。此方法允许支持大于 2TB 的卷。 |
| 1               | 对于 MBR 分区 n°1 或软件 RAID 阵列（使用比 0.68 更新的 XigmaNAS 版本创建） |
| 2               | 对于 MBR 分区 n°2（如果您为 XigmaNAS 和 DATA 使用相同的驱动器，请不要忘记选择分区 2） |
| 3-4             | 对于 MBR 分区 n°3 到 4：仅用于将现有磁盘添加到 XigmaNAS      |
| 光盘/DVD        | 对于 CD/DVD ROM（无分区）                                    |
| 以前的软件 RAID | 用于挂载使用早于 0.68 的 XigmaNAS 版本创建的软件 RAID 阵列   |



| **文件系统** | 描述                                       |
| :----------- | :----------------------------------------- |
| UFS          | NAS4Free (FreeBSD) 本机磁盘                |
| FAT          | FAT16 或 FAT32 驱动器                      |
| CD/DVD       | 用于带有 cd9660 文件系统的 CD/DVD ROM      |
| NTFS         | 适用于 Windows XP/2000/2003/Vista 本机硬盘 |
| EXT2         | 适用于 Linux EXT2 或 EXT3 驱动器           |



**挂载点名称**：您希望出现在网络上的名称（本例中为 Raid5）。支持 Linux 标准、az、AZ、0-9、-（破折号）、_（下划线）字符。

**描述**：输入共享的描述。

单击*保存*，磁盘应出现在表中，状态为正在配置。如果您有之前已添加和格式化的其他磁盘，那么您现在也可以挂载这些磁盘。

单击*应用*更改，应该会看到“*更改已成功应用”消息。*驱动器状态现在应该显示 OK



> 根据磁盘的大小，安装可能需要一些时间才能完成。在“应用更改”期间，所有共享都暂时脱机。



# 高级硬盘参数

添加磁盘时，包含一些选项，它们有可能延长 XigmaNAS 中硬盘驱动器的使用寿命。

并非所有 HDD 都支持任何或所有这些高级硬盘驱动器选项，因此您应该通过诊断：信息页面和 ataidle 选项卡确认您的 HDD 功能。（见下文）。

>  CF 卡不应启用任何这些设置 



图c24



## UDMA模式

仅当 XigmaNAS 无法正确自动检测此模式时才使用此选项。目前支持的模式有：

图c25



## 硬盘待机时间

上次访问后经过选定的时间后，将硬盘置于待机模式。

允许的值为：

图c26



## 高级电源管理 (APM)

这允许您以牺牲性能为代价来降低驱动器的功耗。

允许的值为：

图c27



## 声级 (AAC)

这允许您设置驱动器在运行时的响度。

允许的值为：

图c28





# 3.1.b 磁盘|管理|硬盘格式

此页面磁盘 > 管理 > 硬盘格式化 > 步骤 1 用于格式化或重新格式化硬盘。它还用于更新元数据。在下面的示例中，我们会将单个磁盘 (da1) 格式化为 UFS（Unix 文件系统），这是 XigmaNAS 的本机文件系统。

图c29



 格式化过程中的第 2 步，我们可以在其中设置驱动器的高级格式和卷标。 

图c30



 第 3 步是我们开始格式化过程之前的最后一页，这是我们最后一次中止该过程，以防您选择了错误的硬盘。 

图c31



 第4步我们看到格式化过程完成，如果要格式化另一个磁盘，请按确定按钮返回第一页。 

图c32



>  **格式化磁盘将清除所有数据 - 仔细检查您是否选择了正确的驱动器！！！** 



要格式化磁盘，需要以下信息：

**磁盘**- 选择要格式化的磁盘

**文件系统**- 选择您要使用的文件系统

- UFS - XigmaNAS 的本机文件系统
- FAT32 - Microsoft 的文件系统
- EXT2 - 旧的 Linux 文件系统
- 软件 RAID - 如果要创建 RAID 阵列，请选择此选项
- ZFS - 用于创建 Zpool 的存储池设备

**卷标**- 输入驱动器或卷的名称

**最小可用空间**- 为 root 用户保留的磁盘空间。此保留空间可防止用户过度填充文件系统。完整的文件系统可能会导致系统不稳定/不可用。如果不确定，请保持设置不变。默认为 8%

**不要擦除 MBR** - 默认情况下，XigmaNAS 会擦除整个磁盘，包括主引导记录。某些硬件 RAID 控制器不喜欢这样，因此您可以在此处禁用擦除 MBR。格式化软件 RAID 不需要此设置。

*显示的设置可能会因您在上面选择的文件系统而异。



# 3.1.c S.M.A.R.T.

## 验证磁盘的 SMART、APM、AAC 功能

通过诊断：信息页面，ataidle 选项卡验证您的 SMART、APM 和 AAC 硬盘功能。

高级硬盘驱动器功能示例：

```
List of Advanced ATA capabilities on all ATA disk:
Results for ada0:
Device Info:

Model:			FUJITSU MPF3102AT
Serial:			31277991
Firmware Rev:		1402
ATA revision:		ATA-5
Geometry:		16383 cyls, 16 heads, 63 spt
Capacity:		9GB
SMART Supported: 	yes
SMART Enabled: 		yes
APM Supported: 		yes
APM Enabled: 		no
AAC Supported: 		yes
AAC Enabled: 		no
Note:	AAC = AutoAcoustic
	APM = Advanced Power Management
	SMART = Self-Monitoring, Analysis and Reporting Technology

Results for ada2:
Device Info:

Model:			SAMSUNG SP2014N
Serial:			S088J1RY906273
Firmware Rev:		VC100-33
ATA revision:		ATA-7
Geometry:		16383 cyls, 16 heads, 63 spt
Capacity:		127GB
SMART Supported: 	yes
SMART Enabled: 		yes
APM Supported: 		no
AAC Supported: 		yes
AAC Enabled: 		no
Note:	AAC = AutoAcoustic
	APM = Advanced Power Management
	SMART = Self-Monitoring, Analysis and Reporting Technology
```

从中可以看出，在 ada0 上，为该驱动器设置 APM 或 AAC 没有任何价值，因为它不受支持。同样在 ada2 上，不支持 APM，但支持 AAC，但未启用。

## 启用 SMART

SMART 通过*System:Advanced*页面在系统范围内启用，方法是选中*Enable the SMART daemon*选项并单击 Save 按钮。

>  此选项可能会阻止磁盘高级电源管理正常工作。 



## 关于 SMART

SMART 尝试通过监控选定的驱动器性能和校准特性来预测即将发生的驱动器故障。每个被监控的特性（属性）用于计算一个属性值。属性值的范围从 1 到 253，其中 1 是最坏情况，253 是最好情况，100 是名义上的。

对于 WD 驱动器，归一化属性值的范围为 1 到 100 或 1 到 200，具体取决于属性。错误率、总加速、加速重试和校准重试属性在正常操作期间实施（“在线”）；而多区域错误率测试是“离线”执行的。此测试执行 read-verify-all 操作并计算错误率。这些属性被更新并存储在磁盘保留区域的驱动器上。驱动器上还存储了一组与计算的属性值相对应的属性阈值。当计算的属性值变得小于或等于其相应的属性阈值时，指示即将发生降级或故障情况。

驱动器会定期保存与 SMART 功能相关的所有数据。在主机不活动一段时间后，数据将写入磁盘的保留区域。数据的保存在后台进行，不会导致性能下降。

## WD RED 驱动器的一些 SMART 信息

以下诊断示例 > 信息 > SMART

图c33



```
=== START OF INFORMATION SECTION ===
Model Family:     Western Digital Red
Device Model:     WDC WD30EFRX-68AX9N0
Serial Number:    WD-WMC1T0941506
LU WWN Device Id: 5 0014ee 602e027c8
Firmware Version: 80.00A80
User Capacity:    3,000,592,982,016 bytes [3.00 TB]
Sector Sizes:     512 bytes logical, 4096 bytes physical
Device is:        In smartctl database [for details use: -P show]
ATA Version is:   ACS-2 (minor revision not indicated)
SATA Version is:  SATA 3.0, 6.0 Gb/s (current: 6.0 Gb/s)
Local Time is:    Sun Sep 30 23:56:23 2018 CEST
SMART support is: Available - device has SMART capability.
SMART support is: Enabled

=== START OF READ SMART DATA SECTION ===
SMART overall-health self-assessment test result: PASSED

General SMART Values:
Offline data collection status:  (0x00)	Offline data collection activity
					was never started.
					Auto Offline Data Collection: Disabled.
Self-test execution status:      (   0)	The previous self-test routine completed
					without error or no self-test has ever
					been run.
Total time to complete Offline
data collection: 		(38160) seconds.
Offline data collection
capabilities: 			 (0x7b) SMART execute Offline immediate.
					Auto Offline data collection on/off support.
					Suspend Offline collection upon new
					command.
					Offline surface scan supported.
					Self-test supported.
					Conveyance Self-test supported.
					Selective Self-test supported.
SMART capabilities:            (0x0003)	Saves SMART data before entering
					power-saving mode.
					Supports SMART auto save timer.
Error logging capability:        (0x01)	Error logging supported.
					General Purpose Logging supported.
Short self-test routine
recommended polling time: 	 (   2) minutes.
Extended self-test routine
recommended polling time: 	 ( 383) minutes.
Conveyance self-test routine
recommended polling time: 	 (   5) minutes.
SCT capabilities: 	       (0x70bd)	SCT Status supported.
					SCT Error Recovery Control supported.
					SCT Feature Control supported.
					SCT Data Table supported.

SMART Attributes Data Structure revision number: 16
Vendor Specific SMART Attributes with Thresholds:
ID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE
  1 Raw_Read_Error_Rate     0x002f   200   200   051    Pre-fail  Always       -       0
  3 Spin_Up_Time            0x0027   182   178   021    Pre-fail  Always       -       5875
  4 Start_Stop_Count        0x0032   100   100   000    Old_age   Always       -       159
  5 Reallocated_Sector_Ct   0x0033   200   200   140    Pre-fail  Always       -       0
  7 Seek_Error_Rate         0x002e   200   200   000    Old_age   Always       -       0
  9 Power_On_Hours          0x0032   031   031   000    Old_age   Always       -       51088
 10 Spin_Retry_Count        0x0032   100   100   000    Old_age   Always       -       0
 11 Calibration_Retry_Count 0x0032   100   100   000    Old_age   Always       -       0
 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       157
192 Power-Off_Retract_Count 0x0032   200   200   000    Old_age   Always       -       114
193 Load_Cycle_Count        0x0032   200   200   000    Old_age   Always       -       44
194 Temperature_Celsius     0x0022   121   098   000    Old_age   Always       -       29
196 Reallocated_Event_Count 0x0032   200   200   000    Old_age   Always       -       0
197 Current_Pending_Sector  0x0032   200   200   000    Old_age   Always       -       0
198 Offline_Uncorrectable   0x0030   100   253   000    Old_age   Offline      -       0
199 UDMA_CRC_Error_Count    0x0032   200   200   000    Old_age   Always       -       0
200 Multi_Zone_Error_Rate   0x0008   200   200   000    Old_age   Offline      -       0

SMART Error Log Version: 1
No Errors Logged

SMART Self-test log structure revision number 1
Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error
# 1  Conveyance offline  Completed without error       00%         0         -

SMART Selective self-test log data structure revision number 1
 SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS
    1        0        0  Not_testing
    2        0        0  Not_testing
    3        0        0  Not_testing
    4        0        0  Not_testing
    5        0        0  Not_testing
Selective self-test flags (0x0):
  After scanning selected spans, do NOT read-scan remainder of disk.
If Selective self-test is pending on power-up, resume after 0 minute delay.
```



### SMART属性信息

每个 SMART 属性都表示驱动器的某个特性，并具有从特殊的归一化算法和公式得出的自己的值。下面列出的属性特定于 WD 驱动器。其他驱动器制造商可能有自己的属性定义。

RAW Read Error Rate：该属性表示读取错误重试的平均率。

旋转时间：此属性表示平均旋转时间，它描述了将盘片旋转到其额定转速所需的时间。

**启动/停止计数：** 此属性指示驱动器的启动/停止周期数。

**Reallocated Sector Count：** 该属性表示重新定位到备用区域的坏扇区的数量。

**寻道错误率：** 该属性表示寻道错误的平均率。

**开机小时计数：** 此属性指示驱动器工作（开机）的时间。

**Spin Retry Count：** 此属性表示在加电时驱动器旋转的重试次数。

**Calibration Retry Count：** 此属性表示驱动器在启动后重试的次数。

**Power Cycle Count：** 此属性指示磁盘电源循环的次数。

**Re__cpLocation 事件计数：** 此属性指示请求重新校准的次数。“

**Current Pending Sector Count：** 此属性指示 re__cpLocation 的未决扇区数量。记录读取或写入错误的扇区，并在发出下一个写入命令时等待 re__cpLocations 到备用扇区。

**Off-line Scan Uncorrectable Sector Count：** 该属性表示在最后一次离线扫描期间检测到的固件不可纠正错误扇区的数量。

**UltraDMA CRC 错误率：** UDMA 控制器在主机和 HDD 之间传输时对数据执行 CRC 错误检查。每次发生错误时，都会请求重传。该属性表示 CRC 错误的平均率。

**多区错误率：** 此属性指示请求写入重试的速率。

**GMR Head Amp：** 此属性表示 GMR（Giant Magnetoresistive）磁头的幅度。

**温度：** 此属性指示配备热传感器的驱动器的温度。



# 3.1.d 磁盘|管理|iSCSI 启动器

图c34



 此页面显示您连接到哪些（如果有）iSCSI 卷。按下“+”（加号）图标可以建立额外的 iSCSI 连接。 

>  此功能用于连接到另一台机器通过 iSCSI 导出的卷，而不是用于导出您自己的卷。要导出您自己的 iSCSI 卷，请使用 iSCSI Target 服务。 



## 磁盘|管理|iSCSI 发起程序|添加



图c35



在这里，您可以添加要连接的目标。你会需要：

- 名称（供您参考，在连接/使用期间不解释）
- 发起者名称
- 目标名称
- 目标地址（托管目标的机器的 IP 或主机名/FQDN）



# 2.磁盘|软件 RAID

RAID 的首字母缩写词

- 独立磁盘的冗余阵列。
- 最初冗余的廉价磁盘阵列。

RAID 是一种将相同数据存储在多个硬盘上的不同位置（因此是冗余的）的方法。
XigmaNAS 提供了一个前端来创建基于软件的 RAID。这意味着您不需要特殊的硬件（通常很昂贵）来设置 RAID。目前 XigmaNAS 支持以下 RAID 级别

- JBOD - 只是一堆磁盘
- RAID 0 - 没有奇偶校验或镜像的块级条带化
- RAID 1 - 无奇偶校验或条带化镜像
- RAID 5 - 具有分布式奇偶校验的块级条带化

和像这样的组合

- RAID 10
- RAID 01

单击菜单 Disks > Software RAID，您会看到 Software RAID > GEOM > Management 页面，如下图所示：

图c36





从这里我们可以设置各种软件突袭设置。

>  有关不同 RAID 级别的详细说明，请参阅[RAID](https://hosteagle.club/wiki/RAID?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn) 



> 重要 - RAID 不等于备份。即使您创建了一个 RAID 阵列，您仍然必须在不同的 __cpLocation 中保留另一个数据副本。



> 在设置 RAID 之前，您必须准备好要使用的磁盘。
> 有关“为 RAID 准备驱动器”的更多信息，请参阅
> [磁盘管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)



> [注 -软件 RAID 配置和管理](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:software_raid_configuration_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
>
> - [如何移除/更换 SoftRAID1 阵列中的磁盘？](https://hosteagle.club/wiki/doku.php?id=faq:0059&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
> - [如何移除/更换 SoftRAID5 阵列中的磁盘？](https://hosteagle.club/wiki/doku.php?id=faq:0058&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)



> 软件 RAID 和加密**
>
> 如果您想加密软件 RAID，建议执行以下步骤：
>
> 1. [加密磁盘](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disk_encryption&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
> 2. [格式化](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_format&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)为“软件 RAID”
> 3. 设置您的软件 RAID 阵列



> 不建议在软件 RAID 之上进行加密，如果 RAID 失败，这可能会导致数据丢失。





### 2.a 磁盘|软件 RAID|JBOD 

# 磁盘|软件 RAID|JBOD|管理

**“只是一堆磁盘”**

JBOD 用于将不同大小的不同磁盘连接成一个大卷，而 RAID0 使用相同大小的驱动器。JBOD 不提供任何冗余。**如果一个驱动器发生故障，所有数据都将丢失**。JBOD 的创建非常简单。您所要做的就是选择要使用的驱动器。请参见下面的插图。

## 磁盘|软件 RAID|JBOD|添加

- 为 JBOD 设置名称
- 为 JBOD 选择驱动器。（160GB + 400GB + 250GB）

图c37



创建和初始化……

在按下“应用”后，我们有一个大约 810GB 的 JBOD，它假定为一个大驱动器。

图c38



像任何其他 RAID 一样，您现在可以格式化和挂载。

有关更多信息，请参阅：

[gconcat - 磁盘连接控制实用程序](https://hosteagle.club/cgi/man.cgi?query=gconcat&apropos=0&sektion=0&manpath=FreeBSD+11.2-RELEASE&arch=default&format=html&__cpo=aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmc)



# 磁盘|软件 RAID|JBOD|工具

此菜单使您可以访问与 JBOD 或 gconcat 相关的常用命令。

图c39



1. 仅将这些特殊操作用于调试！
2. 无需使用此菜单来启动 JBOD 卷（自动启动）。

有关命令的说明，请参见：

[gconcat - 磁盘连接控制实用程序](https://hosteagle.club/cgi/man.cgi?query=gconcat&apropos=0&sektion=0&manpath=FreeBSD+11.2-RELEASE&arch=default&format=html&__cpo=aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmc)





# 磁盘|软件 RAID|JBOD|信息

| Healthy                                                      | Degraded                                                     |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| `Geom name: myJBOD State: UP Status: Total=3, Online=3 Type: AUTOMATIC ID: 71488985 Providers: 1. Name: concat/myJBOD   Mediasize: 869730875904 (810G)   Sectorsize: 512   Mode: r0w0e0 Consumers: 1. Name: da4   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r0w0e0   Start: 0   End: 171798691328 2. Name: da5   Mediasize: 268435456000 (250G)   Sectorsize: 512   Mode: r0w0e0   Start: 171798691328   End: 440234146816 3. Name: da6   Mediasize: 429496729600 (400G)   Sectorsize: 512   Mode: r0w0e0   Start: 440234146816   End: 869730875904` | `Geom name: myJBOD State: DOWN Status: Total=3, Online=2 Type: AUTOMATIC ID: 71488985 Consumers: 1. Name: da4   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r0w0e0   Start: 0   End: 171798691328 2. Name: da6   Mediasize: 429496729600 (400G)   Sectorsize: 512   Mode: r0w0e0   Start: 440234146816   End: 869730875904 ` |



这显示了 JBOD 的当前状态。上面的示例显示了“健康”和“降级”的 JBOD。

> 注意 - 此选项卡中显示的信息每 5 秒自动更新一次。



 # 2.b 磁盘|软件 RAID|RAID0

# 磁盘|软件 RAID|RAID0

此菜单用于创建软件 RAID0 条带。RAID0 用于将 2 个或更多磁盘连接到一个大卷。RAID0 不提供任何奇偶校验或数据安全性。**如果一个磁盘发生故障，所有数据都将丢失**。RAID0 用于提高读取速度，因为所有数据都跨磁盘条带化，并且将同时写入和读取两个磁盘。

最低要求是两个相同大小的驱动器。

> 为获得最佳性能，建议使用相同的硬盘驱动器。
>
> 这个意思：
>
> - 同一供应商
> - 同类型
> - 相同大小



该软件 RAID 模块基于 GEOM Stripe。

有关更多信息，请参阅：

**FreeBSD 手册页：**

- [geom](https://hosteagle.club/cgi/man.cgi?query=geom&sektion=8&apropos=0&manpath=FreeBSD+9.0-RELEASE&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) - GEOM 类的通用控制实用程序
- [gstripe](https://hosteagle.club/cgi/man.cgi?query=gstripe&apropos=0&sektion=0&manpath=FreeBSD+9.0-RELEASE&format=html&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) - 条带设备的控制实用程序

**FreeBSD 手册**

- [GEOM：模块化磁盘转换框架](https://hosteagle.club/doc/en/books/handbook/geom.html?__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw)
- [RAID0 - 条带化](https://hosteagle.club/doc/en/books/handbook/geom-striping.html?__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw)



## 磁盘 | 软件RAID | RAID0 | 管理

此菜单为您提供有关现有 RAID0 条带的概述。下面的示例显示了一个已经配置并运行 RAID0 的 2x 160GB 磁盘。

图c40



## 磁盘|软件 RAID|RAID0|添加

此菜单用于选择要用于创建 RAID0 的驱动器。
在此示例中，将创建上面显示的 RAID0。

***突袭名称***

为您的 RAID 阵列选择一个名称。此名称将显示在 WebUI 的不同位置。（例如：[磁盘|格式](https://hosteagle.club/wiki/doku.php?id=wiki:documentation_setup_and_user_guide_disks_format&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)）

***类型***

显示您当前创建的 RAID 类型。

***提供者***

您可以在此处选择要使用的磁盘。

***初始化***

选中此框以创建和初始化您的 RAID0。

------

在**磁盘上“应用”后 | 软件RAID | RAID0 | 管理**您的 RAID0 应显示为“UP”。[格式化](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)和[挂载](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:documentation_setup_and_user_guide&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t#disks_mount_point_management)后，您的 RAID 就可以使用了。

图c41



# 磁盘|软件 RAID|RAID0|工具

此菜单使您可以访问与 RAID0 或 gstripe 相关的常用命令。

图c42



1. 仅将这些特殊操作用于调试！
2. 无需使用此菜单来启动 RAID 卷（自动启动）。

有关命令的说明，请参见：

[gstripe](https://hosteagle.club/cgi/man.cgi?query=gstripe&apropos=0&sektion=0&manpath=FreeBSD+9.0-RELEASE&format=html&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) - 条带设备的控制实用程序



# 磁盘|软件 RAID|RAID0|信息

| Healthy                                                      | Degraded                                                     |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| `Geom name: myRAID0 State: UP Status: Total=2, Online=2 Type: AUTOMATIC Stripesize: 65536 ID: 164881522 Providers: 1. Name: stripe/myRAID0   Mediasize: 343597252608 (320G)   Sectorsize: 512   Mode: r0w0e0 Consumers: 1. Name: da2   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r0w0e0   Number: 0 2. Name: da3   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r0w0e0   Number: 1` | `Geom name: myRAID0 State: DOWN Status: Total=2, Online=1 Type: AUTOMATIC Stripesize: 65536 ID: 164881522 Consumers: 1. Name: da3   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r0w0e0   Number: 1 ` |

这显示了 RAID0 的当前状态。上面的示例显示了“健康”和“降级”的 RAID1。

> 注意 - 此选项卡中显示的信息每 5 秒自动更新一次。



 2.c 磁盘|软件 RAID|RAID1 

# 磁盘|软件 RAID|RAID1

此菜单用于创建软件 RAID1 镜像。这意味着所有数据都写入两个相同的磁盘。如果其中一个磁盘发生故障，另一个磁盘仍包含所有数据。最低要求是两个相同大小的驱动器。

> 为获得最佳性能，建议使用相同的硬盘驱动器。
>
> 这个意思：
>
> * 同一供应商
>
> * 同类型
>
> * 相同大小



该软件 RAID 模块基于一个 GEOM 镜像。

有关更多信息，请参阅：

**FreeBSD 手册页：**

- [geom](https://hosteagle.club/cgi/man.cgi?query=geom&sektion=8&apropos=0&manpath=FreeBSD+7.3-RELEASE&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) - GEOM 类的通用控制实用程序
- [gmirror](https://hosteagle.club/cgi/man.cgi?query=gmirror&apropos=0&sektion=8&manpath=FreeBSD+7.3-RELEASE&format=html&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) - 镜像设备的控制工具

**FreeBSD 手册**

- [GEOM：模块化磁盘转换框架](https://hosteagle.club/doc/en/books/handbook/geom.html?__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw)
- [RAID1 - 镜像](https://hosteagle.club/doc/en/books/handbook/geom-mirror.html?__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw)



>  重要 - RAID 不等于备份。即使您创建了一个 RAID 阵列，您仍然必须在不同的 __cpLocation 中保留另一个数据副本。 



## 磁盘 | 软件RAID | RAID1 | 管理

此菜单为您提供有关现有 RAID1 镜像的概述。下面的示例显示了一个已经配置并运行 RAID1 的 2x 2GB 磁盘。

图c43



## 磁盘|软件 RAID|RAID1|添加

此菜单用于选择您要使用哪些驱动器来创建 RAID1。
在此示例中，将创建上面显示的 RAID1。

***突袭名称***

为您的 RAID 阵列选择一个名称。此名称将显示在 WebUI 的不同位置。（例如：[磁盘|格式](https://hosteagle.club/wiki/doku.php?id=wiki:documentation_setup_and_user_guide_disks_format&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)）

***类型***

显示您当前创建的 RAID 类型。

***平衡算法***

RAID1 提供了从驱动器读取数据的不同方法。选择最适合您需求的算法。

**循环读取**

每个文件都是从另一个磁盘读取的。（简化）

**拆分请求**

同时从两个磁盘读取文件。

**从最低负载读取**

请求的文件将从负载最低的磁盘中读取。

**从最高优先级读取**

这意味着您可以将磁盘设置为首选。所有文件都只能从此磁盘读取，但同时写入两者。这用于具有更多读取请求的设置，而一个磁盘比另一个磁盘更快或更健康。



> 对于大多数设置**，“循环读取”**
>
> [gmirror](https://hosteagle.club/cgi/man.cgi?query=gmirror&apropos=0&sektion=8&manpath=FreeBSD+9.0-RELEASE&format=html&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw)手册页



***初始化***

选中此框以创建和初始化您的 RAID1。

------



在**磁盘上“应用”后 | 软件RAID | RAID1 | 管理**您的 RAID1 应显示为“已完成”。[格式化](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)和[挂载](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:documentation_setup_and_user_guide&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t#disks_mount_point_management)后，您的 RAID 就可以使用了。

图c44



# 磁盘|软件 RAID|RAID1|工具

此菜单使您可以访问与 RAID1 或 gmirror 相关的常用命令。

图c45



1. 仅将这些特殊操作用于调试！
2. 无需使用此菜单来启动 RAID 卷（自动启动）。

有关命令的说明，请参见：

[gmirror - 镜像设备的控制工具](https://hosteagle.club/cgi/man.cgi?query=gmirror&apropos=0&sektion=0&manpath=FreeBSD+11.2-RELEASE&arch=default&format=html&__cpo=aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmc)



# 磁盘|软件 RAID|RAID1|信息

| Healthy                                                      | Degraded                                                     |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| `Geom name: RAID1 State: COMPLETE Components: 2 Balance: round-robin Slice: 4096 Flags: NONE GenID: 0 SyncID: 1 ID: 2358363486 Providers: 1. Name: mirror/RAID1   Mediasize: 171798691328 (160G)   Sectorsize: 512   Mode: r0w0e0 Consumers: 1. Name: da0   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r1w1e1   State: ACTIVE   Priority: 0   Flags: NONE   GenID: 0   SyncID: 1   ID: 4091393736 2. Name: da1   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r1w1e1   State: ACTIVE   Priority: 1   Flags: NONE   GenID: 0   SyncID: 1   ID: 2352489080  ` | `Geom name: RAID1 State: DEGRADED Components: 2 Balance: round-robin Slice: 4096 Flags: NONE GenID: 0 SyncID: 1 ID: 2358363486 Providers: 1. Name: mirror/RAID1   Mediasize: 171798691328 (160G)   Sectorsize: 512   Mode: r0w0e0 Consumers: 1. Name: da0   Mediasize: 171798691840 (160G)   Sectorsize: 512   Mode: r1w1e1   State: ACTIVE   Priority: 0   Flags: NONE   GenID: 0   SyncID: 1   ID: 4091393736  ` |



这显示了 RAID1 的当前状态。上面的示例显示了“健康”和“降级”的 RAID1。

> 注意 - 此选项卡中显示的信息每 5 秒自动更新一次。



# 2.d 磁盘|软件 RAID|RAID5 

# 磁盘|软件 RAID|RAID5

>  创建 GEOM RAID5 的选项已从 WebGUI 中删除。我们鼓励用户改用 ZFS RAIDZ1（或更好）。 



此菜单用于创建软件 RAID5。RAID5 在保持低成本的同时提供了良好的冗余。

如果一个驱动器发生故障，所有数据仍然可以访问。更换故障驱动器后，RAID5 必须重建以提供冗余。



>  重要 - RAID 不会使您的数据备份变得多余。即使您创建了一个 RAID 阵列，您也应该定期备份您的数据并将其保存到不同的 __cpLocation。 



 最低要求是 3 个相同大小的驱动器。 

> 为获得最佳性能，建议使用相同的硬盘驱动器。
>
> 这表示：
>
> - 同一制造商
> - 相同的速度
> - 相同尺寸
>
> 但是，为了提高数据安全性，有时最好使用不同生产日期的驱动器，以帮助避免来自坏批次的多个驱动器同时或间隔很短的故障。



此软件 RAID 模块基于[Geom_raid5](https://hosteagle.club/wiki/Geom_raid5?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)。

有关更多信息，请参阅：

**FreeBSD 手册页：**

- [geom](https://hosteagle.club/cgi/man.cgi?query=geom&sektion=8&apropos=0&manpath=FreeBSD+9.0-RELEASE&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) - GEOM 类的通用控制实用程序



## 磁盘 | 软件RAID | RAID5 | 管理

此菜单为您提供现有 RAID5 阵列的概览。下面的示例显示了一个已经配置并运行 RAID5 的 3x 50GB 磁盘。

图c46



## 磁盘|软件 RAID|RAID5|添加

此菜单用于选择您要使用哪些驱动器来创建 RAID5。
在此示例中，将创建上面显示的 RAID5。

***突袭名称***

为您的 RAID 阵列选择一个名称。此名称将显示在 WebUI 的不同位置。（例如：[磁盘|格式](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_format&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)）

***类型***

显示您当前创建的 RAID 类型。

- RAID 5（旋转块交错奇偶校验）

***提供者***

您可以在此处选择要使用的磁盘。

***初始化***

选中此框以创建和初始化您的 RAID。

------

在**磁盘上“应用”后 | 软件RAID | RAID5 | 管理**您的 RAID5 应显示为“REBUILDING”。根据驱动器的大小，这可能需要几个小时。

当状态更改为“完成”时，您的驱动器应该可以使用了。

接下来的步骤通常是：

1. [格式化 RAID](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
2. [并安装它](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t#disks_mount_point_management)



# 磁盘 软件 RAID RAID5 工具

图c47



此选项卡用于对使用 Geom_raid5 创建的[SoftRAID5](https://hosteagle.club/wiki/Geom_raid5?__cpo=aHR0cHM6Ly9lbi53aWtpcGVkaWEub3Jn)阵列进行故障排除和管理。

**卷名**：允许您选择现有的 RAID5 卷（阵列、提供者）进行管理或排除故障。

**磁盘**：允许您选择要管理或排除故障的磁盘（消费者、设备、阵列成员）。

**命令**：选择 graid5 命令以在上面选择的卷和/或磁盘上执行。按“**发送命令！**”来执行命令。



>  注意 - /sbin/graid5 是执行您选择的命令的实用程序。
>
> 截至今天（2010/09/20），graid5 似乎不是官方 FreeBSD 发行版的一部分，因此该手册页不容易找到和访问。这是最新版本和 man 文件所在的当前[graid5 主页。](https://hosteagle.club/geom_raid5-html?__cpo=aHR0cDovL3d3dy53Z2Jvb21lLm9yZw)
>
> 为了让生活更轻松，我们提供下面的复制品以及最后的附加说明。任何由此产生的错误或与 Arne Worner 原作的偏差都是由于我随后的糟糕编辑造成的。- Al
>
> 最新的NAS4Free中使用的graid5的版本略有不同，但差别不大，一些命令有不同的选项，本文将尽快追踪最新版本。 



```
GRAID5(8) BSD System Manager’s Manual GRAID5(8)

**NAME**
== ==
**graid5** — control utility for raid5 devices
====== ======
**SYNOPSIS**
== ==
**graid5 destroy** [**−fvy**] //name ...// **\\  graid5 label** [**−hnSv**] [**−s **//stripesize//] //name prov prov ...// **\\  graid5 configure** [**−hnRS**] //name// **\\  graid5 stop** [**−fv**] //name ...// **\\  graid5 insert** //name prov// **\\  graid5 remove** //name prov// **\\  graid5 clear** [**−v**] //prov ...// **\\  graid5 dump** //prov ...// **\\  graid5 list \\  graid5 status \\  graid5 load \\  graid5 unload**
====== ======
**DESCRIPTION**
== ==
The **graid5** utility is used for setting up a RAID-5 on two or more disks. The RAID5’ed device can be configured using two different methods: ’’manual’’ or ’’automatic’’. When using the ’’manual’’ method, no metadata are stored on the devices, so the RAID5 device has to be configured by hand every time it is needed. The ’’automatic’’ method uses on-disk metadata to detect devices. Once devices are labeled, they will be automatically detected and configured.

The first argument to **graid5** indicates an action to be performed:
====== ======
**label**
== ==
Set up a RAID5 device from the given devices with the specified //name//. This is the ’’automatic’’ method, where metadata are stored in every device’s last sector. The kernel module //geom_raid5.ko// will be loaded if it is not loaded already.

Additional options include:

**−h**

Hardcode providers’ names in metadata.

**−c**

CowOp mode: Complete-Only-Write-Operation -- dont write if not in status COMPLETE.

**−S**

SafeOp mode: read the whole stripe for every read and verify parity.

**−n**

never-hot-mode: A 2 disk graid5 device doesnt need the hot marker, if it is used as swap space. Furthermore this flags is useful, if a rebuild would be harmful even if a write request was pending.

**−s** //stripesize//

Specify stripesize. Recommendation: MAXPHYS (currently 128KiB) == stripesize. The //stripesize// must be a power of 2 and a multiple of the largest sector size of all the providers.
====== ======
**configure**
== ==
Configure an existing graid5 device:

Options are:

**−h**

Trigger: hardcoded option.

**−a**

Reset error flag of all disks.

**−c**

CowOp mode: Complete-Only-Write-Operation -- dont write if not in status COMPLETE.

**−n**

Trigger: never-hot-mode option.

**−S**

Trigger: SafeOp-mode option.

**−R**

Trigger: start/stop re-sync.
====== ======
**stop**
== ==
Turn off an existing RAID5 device by its //name//. This command does not touch on-disk metadata!

Options are:

**−f**

Force destroy even if still busy.

**−y**

Do not do the Yo-Yo effect.
====== ======
**destroy**
== ==
Same as **stop**.
====== ======
**clear**
== ==
Clear metadata on the given devices.
====== ======
**dump**
== ==
Dump metadata stored on the given devices.
====== ======
**list**
== ==
See geom(8).
====== ======
**status**
== ==
See geom(8).
====== ======
**load**
== ==
See geom(8).
====== ======
**unload**
== ==
See geom(8).
====== ======
**Additional options:**
== ==
**−f**

Force the removal of the specified striped device.

**−v**

Be more verbose.
====== ======
**SYSCTL VARIABLES**
== ==
The following sysctl(8) variables can be used to control the behavior of the **RAID5** GEOM class. The default value is shown next to each variable.

//kern.geom.raid5.debug//: 0

Debug level of the **RAID5** GEOM class. This can be set to a number between 0 and 3 inclusive. If set to 0
minimal debug information is printed, and if set to 3 the maximum amount of debug information is printed.

//kern.geom.raid5.mhm//: 0 (read-only)

Number of malloc hamster cache misses.

//kern.geom.raid5.mhh//: 0 (read-only)

Number of malloc hamster cache hits.

//kern.geom.raid5.maxmem//: 8000000 (tunable)

This variable can be set any time to any 32bit signed integer value. It is cropped apropriately (0..128MB) and interpreted as bytes.

//kern.geom.raid5.wqf//: 0 (read-only)

This value shows the number of write requests that were issued early due to a conflicting read request.

//kern.geom.raid5.wqp//: 0 (read-only)

This value shows the maximum number of pending write requests so far.

//kern.geom.raid5.blked1//: 0 (read-only)

This value shows the number of new write requests that could not be combined because the corresponding area already has an issued but incomplete write request.

//kern.geom.raid5.blked2//: 0 (read-only)

This value shows number of due write (2-phase) requests, that were blocked by another such request due to parity area conflict.

//kern.geom.raid5.dsk_ok//: 50 (read-only)

This value shows the healthiness of the underlying devices. 50 is perfect. 40 or lower triggers a soft-device-remove. 0 causes an error announced to the upper layer.

//kern.geom.raid5.veri_nice//: 100 (tunable)

This value (milli seconds) enforces a delay after a user-land read request for internal verify requests, which are certainly quite hindering for user-land requests, because they read all disks and in some cases even write a disk.

//kern.geom.raid5.veri_w//: 0 (read-only)

This value shows the number of parity-failures (during rebuild)

//kern.geom.raid5.veri//: 0 (read-only)

This value shows the number of parity checks (during rebuild).

//kern.geom.raid5.wreq2_cnt//: 0 (read-only)

Number of 2-phase writes (1. phase: read data&parity (or "other" data in case of three disks); 2. phase: write data&parity).

//kern.geom.raid5.wreq1_cnt//: 0 (read-only)

Number of 1-phase writes (sufficiently long chunks can be written in one phase).

//kern.geom.raid5.wreq_cnt//: 0 (read-only)

Write requests started by upper layer.

//kern.geom.raid5.rreq_cnt//: 0 (read-only)

Read requests started by upper layer.

//kern.geom.raid5.maxwql//: 0 (tunable)

This variable gives a hint for the maximum length of the write queue. Write requests are queued until they are long enough or old enough or until there are too many of them.

//kern.geom.raid5.wdt//: 10 (tunable)

This variable determines the maximum age of a write request before it is issued.

//kern.geom.raid5.tooc//: 3 (tunable)

This variable determines the time-out-on-create. The provider is not created before all consumers are present or the timeout is over.
====== ======
**EXIT STATUS**
== ==
Exit status is 0 on success, and 1 if the command fails.
====== ======
**EXAMPLES**
== ==
The following example shows how to set up a RAID5 device from four disks with a 128KB stripe size for automatic configuration, create a file system on it, and mount it:

graid5 label -v -s 131072 data /dev/da0 /dev/da1 /dev/da2 /dev/da3 \\  newfs /dev/raid5/data \\  mount /dev/raid5/data /mnt \\  [...] \\  umount /mnt \\  graid5 stop data \\  graid5 unload
====== ======
**COMPATIBILITY**
== ==
The **graid5** interleave is in number of bytes, unlike ccdconfig(8) and atacontrol(8) which use the number of sectors. A ccdconfig(8) //ileave// of ’128’ is 64 KB (128 512B sectors). The same stripe interleave would be specified as ’65536’ for **graid5**.
====== ======
**SEE ALSO**
== ==
geom(4), loader.conf(5), atacontrol(8), ccdconfig(8), geom(8), mount(8), newfs(8), sysctl(8), umount(8), vinum(8)
====== ======
**HISTORY**
== ==
The **graid5** utility appeared in FreeBSD 5.3.
====== ======

BSD Dec 11, 2006 BSD
```



附加信息：

在元数据更新的情况下，有几个“原因短语”：

1. **强制验证**：表示用户强制进行奇偶校验块检查。
2. **verify aborted**：表示用户手动从 REBUILDING 状态切换到 COMPLETE 状态（这可能是个坏主意；例如，如果所有磁盘都用零预初始化，则不需要重建）
3. **新配置**：配置由用户更改，应尽快写入磁盘。
4. **验证完成**：验证运行完成，这样我们就可以从 REBUILDING 状态切换到 COMPLETE 状态。在状态 COMPLETE 中，默认调试级别 (0) 没有关于 CALM↔HOT 转换的消息。
5. **存储验证进度**：我们每 3 分钟存储一次验证进度，这样我们就不会丢失太多的工作，如果盒子崩溃（再次）或关闭。
6. **存储验证标志**：将设备标记为“待验证”
7. **有效磁盘计数**：删除或添加磁盘，应尽快在元数据中注明。
8. 状态**热**：设备被标记为“热”（这意味着：写请求挂起）；此消息通常处于调试级别 1，如果正在运行验证进程，则处于调试级别 0。为了减少元数据更新量，graid5 设备保持 HOT 一段时间（.wdt 秒，默认情况下目前 10 秒）在 gaid5 的写缓存被清空后…
9. **平静**状态：设备被标记为“平静”（所有奇偶校验同步）；否则**见 8**。



# 磁盘|软件 RAID|RAID5|信息

 图c48



在此选项卡上显示有关现有 RAID5 卷（阵列）的重要状态信息。上图显示了一个正常、健康的阵列。 

>  注意 - 此选项卡中显示的信息每 5 秒自动更新一次。 



图c49



 上图显示了一个有 1 个磁盘故障且已降级但仍可用/可访问的阵列。可以通过更换故障驱动器来修复此阵列，而不会丢失数据。一般来说，RAID5 阵列只能承受 1 个驱动器的故障，如果 2 个驱动器出现故障，则阵列中包含的数据很可能会丢失。有时可以使用数据恢复软件从丢失 2 个驱动器的阵列中检索数据。请记住，RAID 不等于备份。 



图c50



上图显示了一个刚刚更换驱动器并正在重建过程中的阵列 (da5 @ 61%)。可以安装阵列并在重建时使用它，在重建完成之前，响应将比正常速度慢约 20%。 



#  磁盘|软件 RAID|RAID 0/1/5 

# 磁盘|软件 RAID|RAID 0/1/5|管理

> 创建 GEOM Vinum RAID 的选项已从 WebGUI 中删除。我们鼓励用户改用 ZFS。 



 此菜单用于基于 GEOM [vinum](https://hosteagle.club/cgi/man.cgi?query=vinum&manpath=FreeBSD+7.2-RELEASE&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw)创建软件 RAID 0,1 和 5 。 



>  注意：根据 RAID 级别，使用以下模块之一：
> [磁盘|软件 RAID|RAID0](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid0_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
> [磁盘|软件 RAID|RAID1](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:software_raid_raid1_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)
> [磁盘|软件 RAID|RAID5](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:disks_software_raid_raid5_management&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t) 



>  重要 - RAID 不会使您的数据备份变得多余。即使您创建了一个 RAID 阵列，您也应该定期备份您的数据并将其保存到不同的 __cpLocation。 



# 磁盘|软件 RAID|RAID 0/1/5|工具

此菜单用于管理基于 GEOM [vinum](https://hosteagle.club/cgi/man.cgi?query=vinum&manpath=FreeBSD+9.0-RELEASE&__cpo=aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmc)的软件 RAID 0,1 和 5 。

此功能将被删除。



# 磁盘|软件 RAID|RAID 0/1/5|信息

此菜单用于获取有关基于 GEOM [vinum](https://hosteagle.club/cgi/man.cgi?query=vinum&manpath=FreeBSD+9.0-RELEASE&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw)的现有软件 RAID 0,1 和 5 的信息。

此功能将被删除。





#  3 磁盘|加密 

# 磁盘加密

>  此功能可用，但绝对不受支持。如果您选择使用它，您将无法获得支持，也不会在尝试恢复您的数据时获得支持。 



请先阅读：[https ://www.xigmanas.com/forums/viewtopic.php?f=67&t=15495#p96553](https://hosteagle.club/forums/viewtopic.php?f=67&t=15495&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t#p96553)

NAS4Free 可以使用 FreeBSD geom eli 模块加密您的硬盘驱动器（或 RAID 阵列）。如果支持，此功能将使用硬件加密加速卡。

警告：创建加密磁盘将清除该磁盘上的所有数据。

在使用此功能之前，您应该将 WebGUI 配置为使用 HTTPS 协议： 用于加密磁盘的密码在您将其发送到 WebGUI 时必须受到保护。

加密层必须位于硬盘驱动器（或 RAID 阵列）和文件系统之间。 **加密简单磁盘的高级流程是：**

1. 添加磁盘
2. 使用先前添加的磁盘创建加密卷：此步骤将自动“附加”此卷
3. 格式化此加密卷
4. 使用此加密卷添加挂载点

**加密软件 RAID 阵列的高级流程为：**

1. 创建简单或复杂的 RAID 阵列（第 4.6 章），在此过程结束时不对其进行格式化。
2. 使用之前创建的软件 RAID 阵列创建加密卷：此步骤将自动“附加”该卷
3. 格式化此加密卷
4. 使用此加密卷添加挂载点



>  每次重新启动 NAS4Free 时，使用加密磁盘的挂载点无法自动挂载：您必须输入密码才能“附加”它。 



## 配置您的 WebGUI 以使用 HTTPS

在创建加密卷之前，这不是强制性步骤，而是强烈推荐的步骤：这将防止在网络上以明文形式传输您的密码。

>  有关如何更改此参数，请参阅第 5.1.4 章。 



## 添加磁盘或创建软件 RAID 阵列

在本例中，我将使用磁盘“ad1”。在磁盘管理页面添加此磁盘后：

## 创建加密卷

打开磁盘/加密页面并单击[![img](https://www.xigmanas.com/wiki/lib/exe/fetch.php?media=wiki:documentation_setup_and_user_guide_basic.add.gif)](https://hosteagle.club/wiki/lib/exe/detail.php?id=documentation%3Asetup_and_user_guide%3Adisk_encryption&media=wiki:documentation_setup_and_user_guide_basic.add.gif&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)右侧的图标。



图c51



1. 在磁盘菜单中选择新添加的磁盘/创建的 RAID 阵列。
2. 选择加密算法
3. 选择一个强密码短语
4. 点击“初始化并加密磁盘”，并确认



>  加密卷的生成时间取决于您的磁盘大小：它将用随机值填充您的磁盘。 



 您应该获得以下输出： 

图c52



 然后点击“加密”菜单并“保存”： 

图c53



## 格式化加密磁盘

当状态为“附加”时，必须格式化加密磁盘。

打开*磁盘：格式*菜单并选择新创建的加密磁盘：



图c54



将类型保留为 UFS（GPT 和软更新），单击格式化磁盘按钮并确认。

应输出与此类似的显示：

图c55



## 为加密磁盘创建挂载点

创建并格式化加密卷后，剩下的就是创建挂载点。

打开磁盘/安装点页面并单击[![img](https://www.xigmanas.com/wiki/lib/exe/fetch.php?media=wiki:documentation_setup_and_user_guide_basic.add.gif)](https://hosteagle.club/wiki/lib/exe/detail.php?id=documentation%3Asetup_and_user_guide%3Adisk_encryption&media=wiki:documentation_setup_and_user_guide_basic.add.gif&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t)右侧的图标。

图c56



从磁盘下拉列表中，选择加密磁盘。您之前配置的加密磁盘名称可见。

*将分区* 更改为*EFI-GPT*

输入有用的共享名称，然后单击添加按钮。

状态应显示为正在配置，然后单击应用更改按钮，状态应更新为 UP：

图c57



现在您可以使用加密磁盘了。尝试在上面放一些文件，我们将在重新启动后检查comportment：



## 重新启动以检查您的密码

重新启动您的 NAS4Free 服务器，然后打开 Disk/Mount Point 页面。

您应该会看到一个错误，因为 NAS4Free 无法在没有密码的情况下安装此加密磁盘：

图c58



现在打开磁盘/加密页面

您应该会看到状态为“未附加”的加密磁盘：

图c59



 您必须通过打开磁盘/加密/工具页面输入您的密码： 

图c60



输入您的密码短语，选择命令“附加”，然后单击“发送命令！”

它应该显示：

图c61



 现在这个磁盘的状态应该是'attached'： 

图c62



 现在挂载点状态应该是“OK”： 

图c63



# 磁盘|加密|工具

此页面让您可以访问与基于 geli 的磁盘加密相关的其他操作和信息。

图c64



 您所要做的就是从下拉列表中选择一个磁盘和一个项目。 

| 物品    | 描述                                                         |
| :------ | :----------------------------------------------------------- |
| attach  | 将已加密的磁盘附加到系统                                     |
| detach  | 分离（删除）加密磁盘                                         |
| setkey  | 更改加密磁盘的密钥（密码）                                   |
| list    | 列出所有加密磁盘                                             |
| status  | 显示加密磁盘的状态[geom(8)](https://hosteagle.club/cgi/man.cgi?query=geom&sektion=8&manpath=FreeBSD+9.0-RELEASE&__cpo=aHR0cDovL3d3dy5mcmVlYnNkLm9yZw) |
| backup  | 将磁盘的元数据下载到您的计算机（推荐）                       |
| restore | 恢复元数据以防它们损坏                                       |



 正如您在屏幕截图中看到的 - 强烈建议通过 https 与您的 WebUI 通信，以避免通过您的网络以明文形式发送密码。请参阅：[WebGUI 协议和端口](https://hosteagle.club/wiki/doku.php?id=documentation:setup_and_user_guide:general_system_options&__cpo=aHR0cHM6Ly93d3cueGlnbWFuYXMuY29t#webgui_protocol_and_port) 





