怀旧一把打鸭子居然发现光线枪没鸟用？是时候告诉你真相了！

副标题：怀旧一把打鸭子居然发现光线枪没鸟用？是时候告诉你真相了！

英文：playing-duck-hunt-game-and-find-out-that-the-zapper-gun-is-useless-its-time-to-tell-you-the-truth

关键字：duck hunt,打鸭子,fc,nes,game,游戏,fceux,usb,ips,Teensy,Arduino





大家好，我又来啦！

陪伴80、90后一代成长起来的，被奉为童年回忆的经典红白机游戏，相信在座的各位小伙伴肯定到现在还记忆犹新吧！

或多或少大家都玩过红白机游戏，那我来问问你，你最喜欢什么类型的游戏？

动作？解谜？RPG？还是射击？



我想肯定有人特别喜欢射击类型的游戏。

不过我们今天不讨论像沙罗曼蛇之类的打飞机游戏，而是想说另外一种类型的游戏。

没错！你猜对了，就是那种端着光线枪对着屏幕“piu...piu...”的 **真・射击** 游戏！



说到这类操纵光线枪而非手柄的游戏啊，我就想起了推荐 `batocera` 复古游戏的同事老范。

有一天上班，老范屁颠跑来和我诉苦，说是前晚他小儿子举着光线枪吵着要玩打飞机游戏。

老范就寻思着这孩子小小年纪怎么就知道打飞机了，最后忽悠着孩子玩红白机上的打鸭子游戏。

图01



结果给忽悠瘸了，发现光线枪不灵，压根不好使，孩子眼巴巴瞅着一只只肥肥的鸭子飞走了急得直哭。

你看这事整的，那为啥好端端的光线枪它不能用了呢？



### 红白机光枪原理简述

虽然红白机上的光线枪并不是业界最早出现的，但随着红白机的大火，也自然而然地被大众所熟知。

我们称这玩意叫光线枪或光枪，而在欧美地区则称之为 `Zapper Gun` ，也是非常流行。

即使如此，红白机光枪的原理也并没有多么复杂。



首先我们要知道，游戏屏幕区域被横竖分为 `N` 乘以 `N` 多个小方块。

拿游戏《打鸭子》举例，这个小方块的大小差不多就是一只鸭子的大小。

然后我们就要说到具体光线枪的工作原理了。



* 当我们扣动扳机时，整个屏幕变成全黑色，此时光线枪检测是否正对着屏幕。

* 大概几十毫秒后，第一只鸭子所在区域变成白色方块，其余区域仍是黑色。

  再大概几十毫秒后，第二只鸭子所在区域变成白色方块，其余区域仍是黑色。

* 在这几十毫秒的时间内，光线枪如果对着白色区域，则表示命中；如果对着黑色区域，则表示落空。

* 最后画面恢复正常，整个过程大概也就 `0.1` 秒左右的样子。



图02.GIF



从上面所描述的屏幕变化中我们可以知道，光线枪在整个过程中是通过检测光线由弱（黑）到强（白）来判断是否命中目标的。

原理非常简单，想要命中目标，判断条件就是：黑→白→黑。

有时我们可以先挡住光线枪再快速朝着明亮的电灯射击，照样可以命中目标。

也就是说，一句话概括，光枪是通过屏幕光线明暗闪烁来工作的。

而能做到屏幕闪烁又能让光线枪正确识别的关键就是被称为大屁股的 `CRT` （ 阴极射线显像管 ）显示器。



我们当前面临的问题是，虽然游戏画面可以在现代的 `LCD/LED` 显示器上正常呈现，但却无法通过光线的黑白延迟闪烁这种变化来使光线枪产生射击效果。

有的小伙伴要说了，你居然告诉我 `LCD/LED` 不会闪烁？

其实 `LCD/LED` 可以闪烁，但它的显示工作原理和 `CRT` 完全不同，具体我这个非专业的就不在这儿班门弄斧了，大家伙可以上网查查，总之是不一样的。

那上哪儿找 `CRT` 去？还能不能愉快的打鸭子了？

嘿嘿，你别说，早就有大神在绞尽脑汁捣鼓上了！



### 改装 `LCD/LED` 电视？

如果你有一把红白机上正常使用的光线枪，并且想将其用到现代的 `LCD/LED` 电视上的话，那么大神给你出个主意：改装电视！

网上有大神尝试过给电视改装电视的参考方法，使其与光枪适配，进而达到实际射击效果。

> https://twitter.com/eNuffGs/status/1046244128365805570



不过改装这种事是不是搞得有点大了？

我想一般人折腾不起，总不能为了玩个游戏把家里电视机给拆了吧？

而且国内推特也上不去啊喂！

这似乎并非最做优解，我们接着再找找？



### `LCDMOD`

`LCDMOD` 是个啥，好吃吗？

其实它是两个词儿缩写给写一块儿了，一个是 `LCD` ，另一个是 `MOD` 。

这下清楚了吧，前者是指液晶显示，后者则是指模块的意思。

两个词儿加一块儿，就可以理解为液晶显示模块（好像等于没说？）。



我们在使用光线枪时，必须要用到以前的大屁股 `CRT` 显示器，而现代的 `LCD` 显示器上光线枪就玩不转了。

因此 `LCDMOD` 登场了，它就是专门来解决 `LCD` 上使用光线枪的这么一个东东。

官方解释为，`LCDMOD` 修改了 `8` 位 `Famicom/NES` 游戏（例如 `Duck Hunt` 和 `Wild Gunman` 等），使其可以适用于现代的 `LCD/LED` 电视机。

是的，你可以不用拆电视了（估计你拆了也装不回去）！

```
http://neslcdmod.com/
```

图03



当然，如果玩这些改版游戏的话（比如在模拟器上），那原装的光线枪估计也是用不上的了，不过还好现在有很多替代品。

目前有部分第三方制作的 `NES` 光线枪玩具已被证实可以做到正常工作，网上就有卖的，比如 `Tomee Zapp Gun`，为避免广告嫌疑我就不放链接了。

尺寸‏：‎ `22.86x2.54x12.7cm` ，重约 `234` 克。

图04



我想国内应该也有类似的产品，有兴趣的小伙伴可以入手一把，其实价格并不昂贵。

在这里我们需要特别注意一下，免得有小伙伴误会，这些玩具枪其实是不能直接用于 `LCD/LED` 电视上的。

你看商品介绍里有说明的哦，选购的时候要留心。

>  **PLEASE NOTE:** This product will not work on LCD, LED,  and most modern HDTV television sets. This is also compatilbe with  RetroN HD (when plugged into a CRT TV via AV). 



纳尼？你废了半天话对我说不支持 `LCD/LED` ，那还忽悠我买？

其实吧前面说了那么说，总结一句话，这枪直接用不行，但前提是它们可以通过后续步骤配合就可以用。

而其他型号的枪没被测试过，也就无法确认是否能用了。

那么后续步骤又是什么呢？



### 下载 `ROM`

光线枪到手就万事大吉了吗？

No，图样图森破！

单单有支持 `LCD` 的光线枪还是不够的，我们还需要同样支持 `LCD` 的改版游戏 `ROM` 才行，两者配合在一起才算完美。

枪好整，`ROM` 怎么搞定呢？



别忘了还有 `LCDMOD` 的大神呢，他们已经帮我们整理好了。

图05



网站上一共有六款游戏，但其中有一款 `SUNSOFT` 出品的 `Freedom Force` 没有测试通过。

大家可以自行下载测试。

为了方便，我这儿放了备用链接供大家就近下载。



**neslcdmod.7z(原始rom+补丁ips)(306K)**

下载链接：https://pan.baidu.com/s/1lOBw2XipnVkSPHt-PD7Alw

提取码：3vhg





### `IPS` 文件

话说改版 `ROM` 是怎么做出来的呢？

其实很简单，它就是在原始 `ROM` 文件（.nes）的基础上打上了补丁，这个补丁就是 `IPS` 文件。

图06





我们可以用下面链接中的打补丁工具程序，将 `IPS` 补丁应用到原始文件上。 

（这个 `IPS` 工具以及补丁文件同样放在了前面的下载程序包中。）

```
https://www.romhacking.net/utilities/240/
```

图07



运行 `Lunar IPS` 。

图08



点击 `Apply IPS Path` 应用补丁，然后先选择补丁文件。

图09



然后再选择原始 `ROM` 文件。

图10



很快提示 `ips` 补丁应用成功。

图11



在打补丁之前我们可以勾选 `Create a log File` 来生成日志，方便我们查找问题。

图12



好了，赶紧打开模拟器加载修改好的 `ROM` 试一下吧！



### `USB` 光线枪适配器

枪有了，`ROM` 也有了，是不是我们就到此为止了？

别急，其实这件事吧还有一点点搞头，一开始我也不知道，后来查了一下资料才发现，原来还有一个叫 `USB Zapper Adapter` 的神奇东东存在！

这玩意字面意思叫作 `USB` 光线枪适配器，那它到底是啥又有啥用呢？



我们都知道，红白机游戏可算是复古游戏中的爷爷辈了，普遍容量不大，又有大量的模拟器可用，因此很容易被装进手机等便捷设备里玩。

这么一说可能有的小伙伴就明白过来了，这种情况下怎么用光线枪呢？

就算能用光线枪，那小小的屏幕疯狂用枪怼着，别人肯定以为你脑袋出了什么问题呢！

于是有了一种解决方案，可以通过将鼠标点击转换为光线枪的射击触发。

其实这种方法也可以在电脑上实现，所需要仅仅是 `FCEUX` 模拟器与一块 `USB` 光线枪适配器。



`FCEUX` 是一款开源的 `FC` 游戏模拟器，不仅能在 `Windows` 上跑，而且还支持很多 `Linux` 系统。

这个 `FCEUX` 就支持 `USB` 光线枪适配器，我们就可以先将适配器通过 `USB` 线接到手机上，然后再将鼠标接到适配器上，这样我们就可以用鼠标来完成游戏射击效果啦！

那这个 `USB` 适配器哪里有卖的呢？



其实吧，哪里有卖我不太清楚，只是大神建议自己动手制作，网上也有不少相关的制作教程。

大神建议使用 `Teensy` 开发板，一款 `Arduino` 兼容板，比如像下图。

图13



对开发板有兴趣的小伙伴可以参考以下文章：

>http://neslcdmod.com/schemes/
>
>https://zhuanlan.zhihu.com/p/43288590



### 写在最后

由于本人能力有限，对于开发板一块不太熟悉，因此在这儿就不班门弄斧了，见谅！

在此仅作抛砖引玉之用，好让大家有个兴趣点，有兴趣也有动手能力的小伙伴可以尝试一下。

如果成功了，好处是至少可以省去购买光线枪的费用，坏处嘛就是无法体验“打枪”的乐趣。

虽然红白机游戏已经非常古老，但我相信还是有不少80、90后初心不改仍乐此不疲学习研究着它。

如果你也有关于红白机游戏好玩的故事，欢迎评论留言，分享你的快乐！



#### 创作平台：微信公众号，今日头条，知乎（其他均为转载，请注意甄别）



**扫码关注@网管小贾，个人微信：sysadmcc**

网管小贾 / sysadm.cc



